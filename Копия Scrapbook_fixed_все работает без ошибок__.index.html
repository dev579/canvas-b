<!DOCTYPE html>
<html data-scrapbook-source="http://ideal.help30.ru/svadbyi/priglasheniya/priglashenieczvetyi-1.html" data-scrapbook-create="20181113161533821" lang="ru">
<head>
        <title>ПРИГЛАШЕНИЕ ЦВЕТЫ-0 - Card Pro</title>
    <base>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <script src="jquery-3.3.1.min.js"></script>
    <script src="html2canvas.js"></script>
    <script src="jquery.plugin.html2canvas.js"></script>
    <link rel="stylesheet" property="stylesheet" href="slick.css">
    <script src="slick.js"></script>
    <link rel="stylesheet" property="stylesheet" href="jquery.fancybox.css">
    <link rel="stylesheet" property="stylesheet" href="main.css">
    <link rel="stylesheet" property="stylesheet" href="redaktor.css">
    <link rel="stylesheet" property="stylesheet" href="pantons.css">
    <script async="async" src="main.js"></script>
    <link rel="stylesheet" href="jquery.fancybox.css">
    <link rel="stylesheet" href="all.css">
    <script src="jquery.fancybox.js"></script>
    <script src="interact.js"></script>
    <script type="text/javascript" src="circletype.min.js"></script>
    <script type="text/javascript" src="jquery.lettering.js"></script>
    <script type="text/javascript" src="eliptext.js"></script>
    <script type="text/javascript" src="bootstrap.js"></script>
    <script>
        $(document).ready(function(){
            $('a[date-nolink="nolink"]').click(function(e) {
                return false;
            });
            $('.breads li:nth-child(2) > a').removeAttr('href');
        });
    </script>
    
   
  <link rel="stylesheet" href="style.css" type="text/css">
<link rel="stylesheet" href="default.css" type="text/css">
<style id="style-1-cropbar-clipper">/* Copyright 2014 Evernote Corporation. All rights reserved. */
.en-markup-crop-options {
    top: 18px !important;
    left: 50% !important;
    margin-left: -100px !important;
    width: 200px !important;
    border: 2px rgba(255,255,255,.38) solid !important;
    border-radius: 4px !important;
}

.en-markup-crop-options div div:first-of-type {
    margin-left: 0px !important;
}
</style>
<link rel="shortcut icon" href="favicon.ico">
</head>
  <body oncopy="return false;">
    <div class="gr_container">
      
      
<header>
        <div class="container head-grid">
          <div class="head-row head-row--first"><a class="head-phone head-phone-tov" href="tel:+74951234567">+7 495 123-45-67</a>
            <div class="head-socs"><a class="fb-tov" href=""><i class="fab fa-facebook-f"></i></a><a class="vk-tov" href=""><i class="fab fa-vk"></i>
</a><a class="in-tov" href=""><i class="fab fa-instagram"></i>
</a></div>
            <div class="shop-cart" data-shopcart="1">
    <div class="shop-cart-head"><button onclick="onclick=" window.open('',="" '_blank')"="" class="head-cart head-cart-tov"><i class="fas fa-shopping-cart"></i></button></div>
    <div class="empty">
        <div class="shop-cart-empty"></div>
    </div>
</div>

            <button class="head-menu--btn"><span></span><span></span><span></span></button>
          </div>
          <div class="lozung-tov"> 
                <strong>
                Конструктор
                праздничной
                полиграфии
                </strong>
          </div>
          <div class="head-row head-row--logo">
              <div class="head-logo">
                <a href=""> <img src="logo.png" alt=""></a>
                </div>
            <nav class="head-menu">
                <ul><li class="first active"><a href="http://ideal.help30.ru/svadbyi/" date-nolink="nolink">Свадьбы</a><ul class="sub"><li class="first active"><a href="http://ideal.help30.ru/svadbyi/priglasheniya/">Приглашения</a></li><li><a href="http://ideal.help30.ru/svadbyi/nomera-stolov/">Номера столов</a></li><li><a href="http://ideal.help30.ru/svadbyi/banketnoe-menyu/">Банкетное меню</a></li><li><a href="http://ideal.help30.ru/svadbyi/kartyi-rassadki/">Карты рассадки</a></li><li><a href="http://ideal.help30.ru/svadbyi/kartyi-dress-koda.html">Карты дресс-кода</a></li><li><a href="http://ideal.help30.ru/svadbyi/info-kartyi/">Инфо карты</a></li><li><a href="http://ideal.help30.ru/svadbyi/konvertyi/">Конверты</a></li><li class="last"><a href="http://ideal.help30.ru/svadbyi/birki-na-konvert.html">Бирки на конверт</a></li></ul></li><li><a href="http://ideal.help30.ru/den-rozhdeniya/" date-nolink="nolink">День рождения</a><ul class="sub"><li class="first"><a href="http://ideal.help30.ru/den-rozhdeniya/priglasheniya/">Приглашения</a></li><li><a href="http://ideal.help30.ru/den-rozhdeniya/nomera-stolov.html">Номера столов</a></li><li><a href="http://ideal.help30.ru/den-rozhdeniya/banketnoe-menyu.html">Банкетное меню</a></li><li><a href="http://ideal.help30.ru/den-rozhdeniya/karty-rassadki.html">Карты рассадки</a></li><li><a href="http://ideal.help30.ru/den-rozhdeniya/karty-dress-koda.html">Карты дресс-кода</a></li><li><a href="http://ideal.help30.ru/den-rozhdeniya/info-karty.html">Инфо карты</a></li><li><a href="http://ideal.help30.ru/den-rozhdeniya/konverty.html">Конверты</a></li><li class="last"><a href="http://ideal.help30.ru/den-rozhdeniya/birki-na-konvert.html">Бирки на конверт</a></li></ul></li><li><a href="http://ideal.help30.ru/vecherinka/" date-nolink="nolink">Вечеринка</a><ul class="sub"><li class="first"><a href="http://ideal.help30.ru/vecherinka/priglasheniya/">Приглашения</a></li><li><a href="http://ideal.help30.ru/vecherinka/info-karty.html">Инфо карты</a></li><li><a href="http://ideal.help30.ru/vecherinka/banketnoe-menyu.html">Банкетное меню</a></li><li><a href="http://ideal.help30.ru/vecherinka/nomera-stolov.html">Номера столов</a></li><li><a href="http://ideal.help30.ru/vecherinka/karty-rassadki.html">Карты рассадки</a></li><li><a href="http://ideal.help30.ru/vecherinka/karty-dress-koda.html">Карты дресс-кода</a></li><li><a href="http://ideal.help30.ru/vecherinka/birki/">Бирки</a></li><li class="last"><a href="http://ideal.help30.ru/vecherinka/konvertyi/">Конверты</a></li></ul></li><li><a href="http://ideal.help30.ru/otkryitki/" date-nolink="nolink">Открытки</a><ul class="sub"><li class="first"><a href="http://ideal.help30.ru/otkryitki/birki-na-konvert.html">Бирки на конверт</a></li><li><a href="http://ideal.help30.ru/otkryitki/konverty.html">Конверты</a></li><li><a href="http://ideal.help30.ru/otkryitki/motivacionnye.html">Мотивационные</a></li><li><a href="http://ideal.help30.ru/otkryitki/zhenschine.html">Женщине</a></li><li><a href="http://ideal.help30.ru/otkryitki/muzhchine.html">Мужчине</a></li><li><a href="http://ideal.help30.ru/otkryitki/novyy-god.html">Новый год</a></li><li class="last"><a href="http://ideal.help30.ru/otkryitki/den-rozhdeniya.html">День рождения</a></li></ul></li><li><a href="http://ideal.help30.ru/informacziya/" date-nolink="nolink">Информация</a><ul class="sub"><li class="first"><a href="http://ideal.help30.ru/informacziya/faq/">FAQ</a></li><li class="last"><a href="http://ideal.help30.ru/informacziya/kontaktyi.html">Контакты</a></li></ul></li><li class="last"><a href="http://ideal.help30.ru/blog/">Блог</a></li></ul>
            </nav>
          </div>
        </div>
</header>        
        
      <div class="head-row head-sale-row">
        <div class="container">
        <ul class="B_crumbBox breads"><li class="B_firstCrumb" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb"><a class="B_homeCrumb" itemprop="url" rel="Home" href=""><span itemprop="title">←</span></a></li>
  <li itemscope="itemscope" class="B_crumb" itemtype="http://data-vocabulary.org/Breadcrumb"><a class="B_crumb" itemprop="url" rel="Свадьбы"><span itemprop="title">Свадьбы</span></a></li>
  <li itemscope="itemscope" class="B_crumb" itemtype="http://data-vocabulary.org/Breadcrumb"><a class="B_crumb" itemprop="url" rel="Приглашения" href="http://ideal.help30.ru/svadbyi/priglasheniya/"><span itemprop="title">Приглашения</span></a></li>
  <li class="B_lastCrumb" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb"><a class="B_currentCrumb" itemprop="url" rel="ПРИГЛАШЕНИЕ ЦВЕТЫ-0" href=""><span itemprop="title">ПРИГЛАШЕНИЕ ЦВЕТЫ-0</span></a></li>
</ul>
        </div>
</div>
      <div class="container">
        <link rel="stylesheet" property="stylesheet" href="makets.css">
<script src="jquery-ui.min.js"></script>
<script src="jquery.ui.rotatable.js"></script>
<script src="canvas2image.js"></script>
<script src="hammer.min.js"></script>
<script src="jquery.hammer.js"></script>
<div class="content">
  <div class="card_body_redactor">
  <div class="card_body" id="card_body">
    <div class="card-in" id="card-in">
    <img src="Siren1.jpg" style="width: 100%; visibility: hidden;">
    <div class="resize-position licevaya active" id="licevaya">  
      <div class="card-form resize-container" data-img="Siren1.jpg" style="background-image:url(&quot;Siren1.jpg&quot;);overflow:hidden;">
      <div class="colorad"></div> 
        
        <div class="item text1 resize-drag draggable no-border priglash2" ontouchstart="touchStart(event);" style="touch-action: pan-y; -moz-user-select: none; width: 343px;">
            <span class="redakt-text" data-text="Имена для персонализации">Имена для персонализации</span>
            <div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text" style="display: none;"></div>
        </div>
            
        
        
        
        <div class="item text2 resize-drag draggable no-border priglash2 fontbold-redaktor fontitalic-redaktor" ontouchstart="touchStart(event);" style="touch-action: pan-y; -moz-user-select: none; width: 312px;">
          <span class="redakt-text" data-text="ЭТОТ ДЕНЬ НАСТАЛ! <br>МЫ РЕШИЛИ ПОЖЕНИТЬСЯ">ЭТОТ ДЕНЬ НАСТАЛ! <br>МЫ РЕШИЛИ ПОЖЕНИТЬСЯ</span>
          <div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text" ontouchstart="touchStart(event);" style="display: none;"></div>
        </div>
        
        
        
        <div class="item text3 resize-drag draggable no-border uppercase priglash2 arc-base" ontouchstart="touchStart(event);" style="touch-action: pan-y; -moz-user-select: none;">
            <span class="redakt-text" id="imya1" data-text="•КАРИНА ОБРАЗЦОВА•"><span class="char1" style="top: 0px; left: 50%; margin-left: -8.5px; position: absolute; transform: rotate(-52.3201deg); transform-origin: center 220px 0px;">•</span><span class="char2" style="top: 0px; left: 50%; margin-left: -10.5px; position: absolute; transform: rotate(-46.5905deg); transform-origin: center 220px 0px;">К</span><span class="char3" style="top: 0px; left: 50%; margin-left: -10.5px; position: absolute; transform: rotate(-40.2578deg); transform-origin: center 220px 0px;">А</span><span class="char4" style="top: 0px; left: 50%; margin-left: -10px; position: absolute; transform: rotate(-34.0759deg); transform-origin: center 220px 0px;">Р</span><span class="char5" style="top: 0px; left: 50%; margin-left: -11.5px; position: absolute; transform: rotate(-27.5924deg); transform-origin: center 220px 0px;">И</span><span class="char6" style="top: 0px; left: 50%; margin-left: -11.5px; position: absolute; transform: rotate(-20.6566deg); transform-origin: center 220px 0px;">Н</span><span class="char7" style="top: 0px; left: 50%; margin-left: -10.5px; position: absolute; transform: rotate(-14.0224deg); transform-origin: center 220px 0px;">А</span><span class="char8" style="top: 0px; left: 50%; margin-left: -6px; position: absolute; transform: rotate(-9.0467deg); transform-origin: center 220px 0px;">&nbsp;</span><span class="char9" style="top: 0px; left: 50%; margin-left: -11.5px; position: absolute; transform: rotate(-3.76946deg); transform-origin: center 220px 0px;">О</span><span class="char10" style="top: 0px; left: 50%; margin-left: -10px; position: absolute; transform: rotate(2.71401deg); transform-origin: center 220px 0px;">Б</span><span class="char11" style="top: 0px; left: 50%; margin-left: -9px; position: absolute; transform: rotate(8.44359deg); transform-origin: center 220px 0px;">Р</span><span class="char12" style="top: 0px; left: 50%; margin-left: -10.5px; position: absolute; transform: rotate(14.3239deg); transform-origin: center 220px 0px;">А</span><span class="char13" style="top: 0px; left: 50%; margin-left: -10px; position: absolute; transform: rotate(20.5059deg); transform-origin: center 220px 0px;">З</span><span class="char14" style="top: 0px; left: 50%; margin-left: -11px; position: absolute; transform: rotate(26.8385deg); transform-origin: center 220px 0px;">Ц</span><span class="char15" style="top: 0px; left: 50%; margin-left: -11.5px; position: absolute; transform: rotate(33.6236deg); transform-origin: center 220px 0px;">О</span><span class="char16" style="top: 0px; left: 50%; margin-left: -10.5px; position: absolute; transform: rotate(40.2578deg); transform-origin: center 220px 0px;">В</span><span class="char17" style="top: 0px; left: 50%; margin-left: -10.5px; position: absolute; transform: rotate(46.5905deg); transform-origin: center 220px 0px;">А</span><span class="char18" style="top: 0px; left: 50%; margin-left: -8.5px; position: absolute; transform: rotate(52.3201deg); transform-origin: center 220px 0px;">•</span></span>
            <div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text" ontouchstart="touchStart(event);" style="display: none;"></div>
        </div>
        
        
        
        <div class="item text4 resize-drag draggable no-border priglash2" ontouchstart="touchStart(event);" style="touch-action: pan-y; -moz-user-select: none; width: 199.967px;">
            <span class="redakt-text" data-text="&amp;">&amp;</span>
            <div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text" ontouchstart="touchStart(event);" style="display: none;"></div>
        </div>
        
        
        
        <div class="item text5 resize-drag draggable no-border uppercase priglash2 arc-reversed" ontouchstart="touchStart(event);" style="touch-action: pan-y; -moz-user-select: none;">
            <span class="redakt-text" id="imya1" data-text="•ПЕТР ИГНАТЕНКО•"><span class="char1" style="top: 0px; left: 50%; margin-left: -8.5px; position: absolute; transform: rotate(45.0827deg); transform-origin: center -190px 0px;">•</span><span class="char2" style="top: 0px; left: 50%; margin-left: -11.5px; position: absolute; transform: rotate(39.0516deg); transform-origin: center -190px 0px;">П</span><span class="char3" style="top: 0px; left: 50%; margin-left: -9.5px; position: absolute; transform: rotate(32.7189deg); transform-origin: center -190px 0px;">Е</span><span class="char4" style="top: 0px; left: 50%; margin-left: -10px; position: absolute; transform: rotate(26.8385deg); transform-origin: center -190px 0px;">Т</span><span class="char5" style="top: 0px; left: 50%; margin-left: -10px; position: absolute; transform: rotate(20.8074deg); transform-origin: center -190px 0px;">Р</span><span class="char6" style="top: 0px; left: 50%; margin-left: -6px; position: absolute; transform: rotate(15.9825deg); transform-origin: center -190px 0px;">&nbsp;</span><span class="char7" style="top: 0px; left: 50%; margin-left: -11.5px; position: absolute; transform: rotate(10.7053deg); transform-origin: center -190px 0px;">И</span><span class="char8" style="top: 0px; left: 50%; margin-left: -8.5px; position: absolute; transform: rotate(4.67413deg); transform-origin: center -190px 0px;">Г</span><span class="char9" style="top: 0px; left: 50%; margin-left: -11.5px; position: absolute; transform: rotate(-1.35701deg); transform-origin: center -190px 0px;">Н</span><span class="char10" style="top: 0px; left: 50%; margin-left: -9.5px; position: absolute; transform: rotate(-7.6897deg); transform-origin: center -190px 0px;">А</span><span class="char11" style="top: 0px; left: 50%; margin-left: -10px; position: absolute; transform: rotate(-13.5701deg); transform-origin: center -190px 0px;">Т</span><span class="char12" style="top: 0px; left: 50%; margin-left: -9.5px; position: absolute; transform: rotate(-19.4504deg); transform-origin: center -190px 0px;">Е</span><span class="char13" style="top: 0px; left: 50%; margin-left: -11.5px; position: absolute; transform: rotate(-25.7831deg); transform-origin: center -190px 0px;">Н</span><span class="char14" style="top: 0px; left: 50%; margin-left: -10.5px; position: absolute; transform: rotate(-32.4174deg); transform-origin: center -190px 0px;">К</span><span class="char15" style="top: 0px; left: 50%; margin-left: -11.5px; position: absolute; transform: rotate(-39.0516deg); transform-origin: center -190px 0px;">О</span><span class="char16" style="top: 0px; left: 50%; margin-left: -8.5px; position: absolute; transform: rotate(-45.0827deg); transform-origin: center -190px 0px;">•</span></span>
            <div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text" ontouchstart="touchStart(event);" style="display: none;"></div>
        </div>
        
        
        
        
        
        
        
        
        
        
        
        <div class="item text10 resize-drag draggable no-border priglash2 fontitalic-redaktor" ontouchstart="touchStart(event);" style="touch-action: pan-y; -moz-user-select: none; width: 345px;">
            <span class="redakt-text" data-text="НЕПРЕМЕННО БУДЕМ ЖДАТЬ ВАС НА ТОРЖЕСТВЕННОЙ РЕГИСТРАЦИИ БРАКА В 12:00 ПО АДРЕСУ: УЛ. КОММУНЫ, 73">НЕПРЕМЕННО БУДЕМ ЖДАТЬ ВАС НА ТОРЖЕСТВЕННОЙ РЕГИСТРАЦИИ БРАКА В 12:00 ПО АДРЕСУ: УЛ. КОММУНЫ, 73</span>
            <div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text" ontouchstart="touchStart(event);" style="display: none;"></div>
        </div>
        
        
      </div>
    </div>
    <div class="resize-position oborotnaya resize-hidden" id="oborotnaya">
      <div class="card-form resize-container" data-img="Siren2.jpg" style="background-image:url(&quot;Siren2.jpg&quot;);overflow:hidden;">
        <div class="colorad"></div>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <div class="item text9 resize-drag draggable no-border priglash-ob2 fontitalic-redaktor" ontouchstart="touchStart(event);" style="touch-action: pan-y; -moz-user-select: none;">
            <span class="redakt-text" data-text="СКОРО СВАДЬБА!">СКОРО СВАДЬБА!</span>
            <div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text" ontouchstart="touchStart(event);" style="display: none;"></div>
        </div>
        
        
        
        <div class="item text10 resize-drag draggable no-border priglash-ob2 fontitalic-redaktor" ontouchstart="touchStart(event);" style="touch-action: pan-y; -moz-user-select: none;">
            <span class="redakt-text" data-text="ХЭШТЕГ ДНЯ #КАРИНА_ЗА_ПЕТЮ">ХЭШТЕГ ДНЯ #КАРИНА_ЗА_ПЕТЮ</span>
            <div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text" ontouchstart="touchStart(event);" style="display: none;"></div>
        </div>
        
        
      </div>
    </div>
</div>
<script>
//    var text1 = $('.text1.priglash2').width();
//	text1 = text1/2;
//	text1style = 'margin-left:-'+text1+'px';
//	$('.text1.priglash2').attr('style','margin-left:-'+text1+'px !important;');
	
//	var text2 = $('.text2.priglash2').width();
//	text2 = text2/2;
//	text2style = 'margin-left:-'+text2+'px';
//	$('.text2.priglash2').attr('style','margin-left:-'+text2+'px !important;');

//	var text3 = $('.text3.priglash2').width();
//	text3 = text3/2;
//	text3style = 'margin-left:-'+text3+'px';
//	$('.text3.priglash2').attr('style','margin-left:-'+text3+'px !important;');
	

	
//	var text4 = $('.text4.priglash2').width();
//	text4 = text4/2;
//	text4style = 'margin-left:-'+text4+'px';
//	$('.text4.priglash2').attr('style','margin-left:-'+text4+'px !important;');
	
//	var text5 = $('.text5.priglash2').width();
//	text5 = text5/2;
//	text5style = 'margin-left:-'+text5+'px';
//	$('.text5.priglash2').attr('style','margin-left:-'+text5+'px !important;');
	
//	var text9 = $('.text9.priglash2').width();
//	text9 = text9/2;
//	text9style = 'margin-left:-'+text9+'px';
//	$('.text9.priglash2').attr('style','margin-left:-'+text9+'px !important;');
	
//	var text10 = $('.text10.priglash2').width();
//	text10 = text10/2;
//	text10style = 'margin-left:-'+text10+'px';
//	$('.text10.priglash2').attr('style','margin-left:-'+text10+'px !important;');
	
//	var text9ob = $('.text9.priglash-ob2').width();
//	text9ob = text9ob/2;
//	text9obstyle = 'margin-left:-'+text9+'px';
//	$('.text9.priglash-ob2').attr('style','margin-left:-'+text9ob+'px !important;');

//	var text10ob = $('.text10.priglash-ob2').width();
//	text10ob = text10ob/2;
//	text10obstyle = 'margin-left:-'+text10+'px';
//	$('.text10.priglash-ob2').attr('style','margin-left:-'+text10ob+'px !important;');


    $(document).ready(function () {
    
        $(".text1.priglash2").width($(".text1.priglash2 > span").width());	 
        $(".text2.priglash2").width($(".text2.priglash2 > span").width());	        
        $(".text4.priglash2").width($(".text4.priglash2 > span").width());
        $(".text10.priglash2").width($(".text10.priglash2 > span").width());        
    
    
		$('.text3.priglash2 > .redakt-text').elipText({radius: 220, dir:1});
		$('.text5.priglash2 > .redakt-text').elipText({radius: 220, dir:-1});
	});


</script>
  </div>
  <div class="card_body_clone" id="card_body_clone">
    <div class="generate-button"><button type="button" class="card-redactor--order_btn generate">Сгенерировать</button><div class="loading" style="text-align:center;"></div></div><br>
    <div class="card_body_clone_generated" id="card_body_clone_generated"></div>
  </div>
  </div>
  <main class="card-redactor">
    <h3 class="time-title">Редактор
      <div class="time-line"></div>
    </h3>
    <div class="card-redactor--body">
      <ul class="card-redactor--sides">
        <li class="card-redactor--prev-l">
          <div class="card-redactor--side_title">Лицевая сторона</div>
          <div class="card-redactor--side_img licevaya-on active"><img src="Siren1.jpg" alt="">
          </div>
        </li>
        
        <li class="card-redactor--prev-o">
          <div class="del-obr" id="del-obr"><i class="far fa-times-circle"></i></div>
          <div class="card-redactor--side_title">Оборотная сторона</div>
          <div class="card-redactor--side_img oborotnaya-on"><img src="Siren2.jpg" alt="">
          </div>
        </li>
        
        <script>
            $('#del-obr').click(function(){
               $('.card-redactor--prev-o').addClass('no-visibility');
               $('.palitra-oborot-title').addClass('no-visibility');
               $('.palitra-oborot').addClass('no-visibility');
               $('.oborotnaya').addClass('no-visibility');
            });
        </script>
        
        <li class="card-redactor--side cmyk">
          <div class="card-redactor--side_title">Доступные оттенки</div>
          <div class="card-redactor--side_img colors">
            
            <!-- PANTONS -->
            <div class="palitra-title" style="width:100%;text-align:center;">Лицевая</div>
            <div class="palitra-licevaya">
            <div class="palitra-cmyk">
                <div class="card-color colorimg1 active-color" date-idcvet="1" date-coloractive="#c8a2c8" style="background:#c8a2c8"></div> <div class="card-color colorimg2" date-idcvet="2" date-coloractive="#8b00ff" style="background:#8b00ff"></div> <div class="card-color colorimg3" date-idcvet="3" date-coloractive="#008000" style="background:#008000"></div> <div class="card-color colorimg4" date-idcvet="4" date-coloractive="#ffc0cb" style="background:#ffc0cb"></div>
            </div>
            <div class="palitra-imgs" style="display:none;">
                <div class="div-img-color divimg1"><img class="img1" src="Siren1.jpg"></div> <div class="div-img-color divimg2"><img class="img2" src="Fiolet1.jpg"></div> <div class="div-img-color divimg3"><img class="img3" src="Green1.jpg"></div> <div class="div-img-color divimg4"><img class="img4" src="Pink1.jpg"></div>
            </div>
            </div>
            
            <div class="palitra-title palitra-oborot-title" style="width:100%;text-align:center;">Оборотная</div>
            <div class="palitra-oborot">
            <div class="palitra-cmyk">
                <div class="card-color colorimg1 active-color" date-idcvet="1" date-coloractive="#c8a2c8" style="background:#c8a2c8"></div> <div class="card-color colorimg2" date-idcvet="2" date-coloractive="#8b00ff" style="background:#8b00ff"></div> <div class="card-color colorimg3" date-idcvet="3" date-coloractive="#008000" style="background:#008000"></div> <div class="card-color colorimg4" date-idcvet="4" date-coloractive="#ffc0cb" style="background:#ffc0cb"></div>
            </div>
            <div class="palitra-imgs" style="display:none;">
                <div class="div-img-color divimg1"><img class="img1" src="Siren2.jpg"></div> <div class="div-img-color divimg2"><img class="img2" src="Fiolet2.jpg"></div> <div class="div-img-color divimg3"><img class="img3" src="Green2.jpg"></div> <div class="div-img-color divimg4"><img class="img4" src="Pink2.jpg"></div>
            </div>
            <script>
            $(document).ready(function() { 
                $('.palitra-licevaya > .palitra-cmyk > .card-color:first-child').addClass('active-color');
                $('.palitra-licevaya > .palitra-cmyk > .card-color').each(function () {
                    $(this).click(function(){
                        $('.palitra-licevaya > .palitra-cmyk > .card-color').removeClass('active-color');
                        $(this).addClass('active-color');
                    });
    	        });
    	        var urlimgcolor = ''+$('.palitra-licevaya').find('.palitra-imgs > div:first-child').find('img').attr('src');
    	        $('#licevaya').find('.card-form').attr('style','background-image:url('+urlimgcolor+');overflow:hidden;');
                $('.licevaya-on img').attr('src',urlimgcolor);
                $('.palitra-licevaya > .palitra-cmyk > .card-color').click(function(){
                    var dataidcvet = $(this).attr('date-idcvet');
                    urlimgcolor = ''+$(this).parent().parent().find('.palitra-imgs > .divimg'+dataidcvet+'').find('img').attr('src');
                    $('#licevaya').find('.card-form').attr('data-img',urlimgcolor);
                    $('#licevaya').find('.card-form').attr('style','background-image:url('+urlimgcolor+');overflow:hidden;');
                    $('.licevaya-on img').attr('src',urlimgcolor);
                });
	        });
	        
	        $(document).ready(function() { 
	         $('.palitra-oborot > .palitra-cmyk > .card-color:first-child').addClass('active-color');
                $('.palitra-oborot > .palitra-cmyk > .card-color').each(function () {
                    $(this).click(function(){
                        $('.palitra-oborot > .palitra-cmyk > .card-color').removeClass('active-color');
                        $(this).addClass('active-color');
                    });
    	        });
    	        var urlimgcolorob = ''+$('.palitra-oborot').find('.palitra-imgs > div:first-child').find('img').attr('src');
                $('#oborotnaya').find('.card-form').attr('style','background-image:url('+urlimgcolorob+');overflow:hidden;');
                $('.oborotnaya-on img').attr('src',urlimgcolorob);
                $('.palitra-oborot > .palitra-cmyk > .card-color').click(function(){
                    var dataidcvetob = $(this).attr('date-idcvet');
                    urlimgcolorob = ''+$(this).parent().parent().find('.palitra-imgs > .divimg'+dataidcvetob+'').find('img').attr('src');
                    console.log(dataidcvetob,':',urlimgcolorob);
                    $('#oborotnaya').find('.card-form').attr('data-img',urlimgcolorob);
                    $('#oborotnaya').find('.card-form').attr('style','background-image:url('+urlimgcolorob+');overflow:hidden;');
                    $('.oborotnaya-on img').attr('src',urlimgcolorob);
                });
            });
            </script>
            </div>
            <!-- PANTONS -->
            
            <!-- DOP PANTONS -->
            <div class="dop-pantons">
                <div class="dop-pantons-link"><span><i class="fas fa-angle-down"></i></span>
                <div class="dop-pantons-kontent">
                     <span class="palitra-title">Лицевая</span>
                    <div class="palitra-licevaya">
                    <div class="palitra-cmyk">
                        <div class="card-color colorimg1 active-color" date-idcvet="1" date-coloractive="#c8a2c8" style="background:#c8a2c8"></div> <div class="card-color colorimg2" date-idcvet="2" date-coloractive="#8b00ff" style="background:#8b00ff"></div> <div class="card-color colorimg3" date-idcvet="3" date-coloractive="#008000" style="background:#008000"></div> <div class="card-color colorimg4" date-idcvet="4" date-coloractive="#ffc0cb" style="background:#ffc0cb"></div>
                    </div>
                    <div class="palitra-imgs" style="display:none;">
                        <div class="div-img-color divimg1"><img class="img1" src="Siren1.jpg"></div> <div class="div-img-color divimg2"><img class="img2" src="Fiolet1.jpg"></div> <div class="div-img-color divimg3"><img class="img3" src="Green1.jpg"></div> <div class="div-img-color divimg4"><img class="img4" src="Pink1.jpg"></div>
                    </div>
                    </div><br>
                    <div class="clearfix"></div>
                    <span class="palitra-title palitra-oborot-title">Оборотная</span>
                    <div class="palitra-oborot">
                    <div class="palitra-cmyk">
                        <div class="card-color colorimg1 active-color" date-idcvet="1" date-coloractive="#c8a2c8" style="background:#c8a2c8"></div> <div class="card-color colorimg2" date-idcvet="2" date-coloractive="#8b00ff" style="background:#8b00ff"></div> <div class="card-color colorimg3" date-idcvet="3" date-coloractive="#008000" style="background:#008000"></div> <div class="card-color colorimg4" date-idcvet="4" date-coloractive="#ffc0cb" style="background:#ffc0cb"></div>
                    </div>
                    <div class="palitra-imgs" style="display:none;">
                        <div class="div-img-color divimg1"><img class="img1" src="Siren2.jpg"></div> <div class="div-img-color divimg2"><img class="img2" src="Fiolet2.jpg"></div> <div class="div-img-color divimg3"><img class="img3" src="Green2.jpg"></div> <div class="div-img-color divimg4"><img class="img4" src="Pink2.jpg"></div>
                    </div>
                </div>
                </div>
            </div>
            <!-- DOP PANTONS -->
            
          </div>
        </div></li>
        <!-- OTHER PANTONS -->
        <script type="text/javascript" src="colorpicker.min.js"></script>
        <li class="card-redactor--other other-palitra">
            <div class="other-pantons">
                <div class="card-redactor--side_title">Другая палитра</div>
                <div class="other-pantons-kontent">
                    <div class="other-pantons-image">
                        <div class="other-pantons-image-pic"><img src="other-pantons.png"></div>
                    </div>
                    <div class="other-pantons-cvets" style="display:none;">
                        <div class="other-pantons-cvets-blok">
                            <div class="other-pantons-cvets-blok-divs">
                                <span class="personalize-blok-close" id="other-pantons-cvets-blok-divs-close">X</span>
                                <div>Выберите цвет</div>
                                <div class="other-pantons-cvets-blok-picker">
                                    <div id="color-picker" class="cp-default">
                                        <div class="picker-wrapper">
                                        <div id="picker" class="picker" style="background-color: rgb(0, 163, 255);"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%"><defs><linearGradient id="gradient-black" x1="0%" y1="100%" x2="0%" y2="0%"><stop offset="0%" stop-color="#000000" stop-opacity="1"></stop><stop offset="100%" stop-color="#CC9A81" stop-opacity="0"></stop></linearGradient><linearGradient id="gradient-white" x1="0%" y1="100%" x2="100%" y2="100%"><stop offset="0%" stop-color="#FFFFFF" stop-opacity="1"></stop><stop offset="100%" stop-color="#CC9A81" stop-opacity="0"></stop></linearGradient></defs><rect x="0" y="0" width="100%" height="100%" fill="url(#gradient-white)"></rect><rect x="0" y="0" width="100%" height="100%" fill="url(#gradient-black)"></rect></svg></div>
                                        <div id="picker-indicator" class="picker-indicator" style="left: 0px; right: 0px; top: 0px;"></div>
                                    </div>
                                    <div class="pcr-wrapper">
                                        <div id="pcr" class="pcr"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%"><defs><linearGradient id="gradient-hsv" x1="0%" y1="100%" x2="0%" y2="0%"><stop offset="0%" stop-color="#FF0000" stop-opacity="1"></stop><stop offset="13%" stop-color="#FF00FF" stop-opacity="1"></stop><stop offset="25%" stop-color="#8000FF" stop-opacity="1"></stop><stop offset="38%" stop-color="#0040FF" stop-opacity="1"></stop><stop offset="50%" stop-color="#00FFFF" stop-opacity="1"></stop><stop offset="63%" stop-color="#00FF40" stop-opacity="1"></stop><stop offset="75%" stop-color="#0BED00" stop-opacity="1"></stop><stop offset="88%" stop-color="#FFFF00" stop-opacity="1"></stop><stop offset="100%" stop-color="#FF0000" stop-opacity="1"></stop></linearGradient></defs><rect x="0" y="0" width="100%" height="100%" fill="url(#gradient-hsv)"></rect></svg></div>
                                        <div id="pcr-indicator" class="pcr-indicator" style="top: 0px;"></div>
                                     </div>
                                    <ul id="color-values">
                                        <li style="display:none;"><label>RGB:</label><span id="rgb">rgb(212,237,251)</span></li>
                                        <li style="display:none;"><label>HSV:</label><span id="hsv">hsv(202,0.16,0.98)</span></li>
                                        <li><label>HEX:</label><span id="hex">#D4EDFB</span></li>
                                        <li><div id="pcr_bg" style="background-color: rgb(212, 237, 251);"></div></li>
                                    </ul>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="color-comment">
                                    <textarea cols="40" rows="2" id="color-comment-text1" name="color-comment-text" class="color-comment-text" placeholder="Ваш комментарий об использовании цвета"></textarea>
                                </div>
                                <button class="card-redactor--btn" id="color-comment-button" style="float:right;">Выбрать</button>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </li>
        <script type="text/javascript">
            $('.other-pantons-image').click(function(){
                $('.other-pantons-cvets').toggle();
            });
            
            $("#other-pantons-cvets-blok-divs-close").click(function () {
                $('.other-pantons-cvets').hide();
            });
            
            $('#color-comment-button').click(function(){
                var pickColor = $('#hex').html();
                var colorCommentText1 = $('#color-comment-text1').val();
                $('.other-pantons-image-pic').html('<div style="width:68px;height:68px;background-color:'+pickColor+'"></div>');
                $('.input-colors1').val('Другая палитра: '+pickColor);
                $('.input-text1').val('Комментарий к палитре: '+colorCommentText1);
                $('.other-pantons-cvets').hide();
            });
            
            // Color Picker
            cp = ColorPicker(document.getElementById('pcr'), document.getElementById('picker'), 
            function(hex, hsv, rgb, mousePicker, mousepcr) {
            currentColor = hex;
                 ColorPicker.positionIndicators(
                 document.getElementById('pcr-indicator'),
                 document.getElementById('picker-indicator'),
                 mousepcr, mousePicker);
                                
                document.getElementById('hex').innerHTML = hex;
                document.getElementById('rgb').innerHTML = 'rgb(' + rgb.r.toFixed() + ',' + rgb.g.toFixed() + ',' + rgb.b.toFixed() + ')';
                document.getElementById('hsv').innerHTML = 'hsv(' + hsv.h.toFixed() + ',' + hsv.s.toFixed(2) + ',' + hsv.v.toFixed(2) + ')';
            					
            	document.getElementById('pcr_bg').style.backgroundColor = hex;
            });
            cp.setHex('#D4EDFB');
        </script>
        <!-- OTHER PANTONS -->
      </ul>
      <div class="time-line"></div>
    </div>
    <div class="card-redactor--body">
      <div class="card-redactor--btns">
        <button class="card-redactor--btn" id="add-text">Добавить текст</button>
        <button class="card-redactor--btn" id="add-personalize">Добавить персонализацию</button>
        <div class="personalize" id="personalize-blok" style="display:none;">
            <div class="personalize-blok">
                <textarea class="personalize-text" id="personalize-text"></textarea>
                <br>
                <div>
                    <small class="info-small">
                        Добавьте парами имена через запятую, и разделите их слешем (/).<br>
                        Например: Катя/Андрей,Денис/Маша,Вова/Гоша
                    </small>
                </div>
                <div class="personalize-count-plashka"></div>
                <button class="card-redactor--btn" id="personalize-add-button" style="float:right;">Добавить</button>
                <div class="clearfix"></div>
                <span class="personalize-blok-close" id="personalize-blok-close">X</span>
            </div>
        </div>
        <script>
            $("#add-personalize").click(function () {
                $('#personalize-blok').show();
            });
            $("#personalize-blok-close").click(function () {
                $('#personalize-blok').hide();
            });
            $("#personalize-add-button").click(function () {
                $('#personalize-blok').hide();
            });
        </script>
      </div>  
      <textarea class="card-redactor--desc" value="">Здесь будет редактироваться ваш текст</textarea>
      <div class="card-redactor--buttons"><a href="#licevaya" class="card-redactor--btn">Применить</a></div>
      <div class="card-redactor--font">
        <select class="card-redactor--select shrift-redaktor">
          <option class="arial" data-shrift="" selected="selected">Выберите</option>
          <option class="arial" data-shrift="Arial">Arial</option>
          <option class="arabella" data-shrift="Arabella">Arabella</option>
          <option class="calibri" data-shrift="Calibri">Calibri</option>
          <option class="segoe" data-shrift="Segoe UI">Segoe</option>
        </select>
        <div class="card-redactor--font_size font-redaktor"><img src="text.png" alt="">
          <select class="card-redactor--select min">
            <option selected="selected">Выберите</option>
            <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
                <option value="13">13</option>
                <option value="14">14</option>
                <option value="15">15</option>
                <option value="16">16</option>
                <option value="17">17</option>
                <option value="18">18</option>
                <option value="19">19</option>
                <option value="20">20</option>
                <option value="21">21</option>
                <option value="22">22</option>
                <option value="23">23</option>
                <option value="24">24</option>
                <option value="25">25</option>
                <option value="26">26</option>
                <option value="27">27</option>
                <option value="28">28</option>
                <option value="29">29</option>
                <option value="30">30</option>
                <option value="31">31</option>
                <option value="32">32</option>
                <option value="33">33</option>
                <option value="34">34</option>
                <option value="35">35</option>
                <option value="36">36</option>
                <option value="37">37</option>
                <option value="38">38</option>
                <option value="39">39</option>
                <option value="40">40</option>
                <option value="41">41</option>
                <option value="42">42</option>
                <option value="43">43</option>
                <option value="44">44</option>
                <option value="45">45</option>
                <option value="46">46</option>
                <option value="47">47</option>
                <option value="48">48</option>
                <option value="49">49</option>
                <option value="50">50</option>
                <option value="51">51</option>
                <option value="52">52</option>
                <option value="53">53</option>
                <option value="54">54</option>
                <option value="55">55</option>
                <option value="56">56</option>
                <option value="57">57</option>
                <option value="58">58</option>
                <option value="59">59</option>
                <option value="60">60</option>
                <option value="61">61</option>
                <option value="62">62</option>
                <option value="63">63</option>
                <option value="64">64</option>
                <option value="65">65</option>
                <option value="66">66</option>
                <option value="67">67</option>
                <option value="68">68</option>
                <option value="69">69</option>
                <option value="70">70</option>
                <option value="71">71</option>
                <option value="72">72</option>
                <option value="73">73</option>
                <option value="74">74</option>
                <option value="75">75</option>
                <option value="76">76</option>
                <option value="77">77</option>
                <option value="78">78</option>
                <option value="79">79</option>
                <option value="80">80</option>
                <option value="81">81</option>
                <option value="82">82</option>
                <option value="83">83</option>
                <option value="84">84</option>
                <option value="85">85</option>
                <option value="86">86</option>
                <option value="87">87</option>
                <option value="88">88</option>
                <option value="89">89</option>
                <option value="90">90</option>
                <option value="91">91</option>
                <option value="92">92</option>
                <option value="93">93</option>
                <option value="94">94</option>
                <option value="95">95</option>
                <option value="96">96</option>
                <option value="97">97</option>
                <option value="98">98</option>
                <option value="99">99</option>
                <option value="100">100</option>
                <option value="101">101</option>
                <option value="102">102</option>
                <option value="103">103</option>
                <option value="104">104</option>
                <option value="105">105</option>
                <option value="106">106</option>
                <option value="107">107</option>
                <option value="108">108</option>
                <option value="109">109</option>
                <option value="110">110</option>
                <option value="111">111</option>
                <option value="112">112</option>
                <option value="113">113</option>
                <option value="114">114</option>
                <option value="115">115</option>
                <option value="116">116</option>
                <option value="117">117</option>
                <option value="118">118</option>
                <option value="119">119</option>
                <option value="120">120</option>
                <option value="121">121</option>
                <option value="122">122</option>
                <option value="123">123</option>
                <option value="124">124</option>
                <option value="125">125</option>
                <option value="126">126</option>
                <option value="127">127</option>
                <option value="128">128</option>
                <option value="129">129</option>
                <option value="130">130</option>
                <option value="131">131</option>
                <option value="132">132</option>
                <option value="133">133</option>
                <option value="134">134</option>
                <option value="135">135</option>
                <option value="136">136</option>
                <option value="137">137</option>
                <option value="138">138</option>
                <option value="139">139</option>
                <option value="140">140</option>
                <option value="141">141</option>
                <option value="142">142</option>
                <option value="143">143</option>
                <option value="144">144</option>
                <option value="145">145</option>
                <option value="146">146</option>
                <option value="147">147</option>
                <option value="148">148</option>
                <option value="149">149</option>
                <option value="150">150</option>
                <option value="151">151</option>
                <option value="152">152</option>
                <option value="153">153</option>
                <option value="154">154</option>
                <option value="155">155</option>
                <option value="156">156</option>
                <option value="157">157</option>
                <option value="158">158</option>
                <option value="159">159</option>
                <option value="160">160</option>
                <option value="161">161</option>
                <option value="162">162</option>
                <option value="163">163</option>
                <option value="164">164</option>
                <option value="165">165</option>
                <option value="166">166</option>
                <option value="167">167</option>
                <option value="168">168</option>
                <option value="169">169</option>
                <option value="170">170</option>
                <option value="171">171</option>
                <option value="172">172</option>
                <option value="173">173</option>
                <option value="174">174</option>
                <option value="175">175</option>
                <option value="176">176</option>
                <option value="177">177</option>
                <option value="178">178</option>
                <option value="179">179</option>
                <option value="180">180</option>
                <option value="181">181</option>
                <option value="182">182</option>
                <option value="183">183</option>
                <option value="184">184</option>
                <option value="185">185</option>
                <option value="186">186</option>
                <option value="187">187</option>
                <option value="188">188</option>
                <option value="189">189</option>
                <option value="190">190</option>
                <option value="191">191</option>
                <option value="192">192</option>
                <option value="193">193</option>
                <option value="194">194</option>
                <option value="195">195</option>
                <option value="196">196</option>
                <option value="197">197</option>
                <option value="198">198</option>
                <option value="199">199</option>
                <option value="200">200</option>
          </select>
        </div>
        <div class="card-redactor--font_space interval-redaktor"><img src="symbols.png" alt="">
          <select class="card-redactor--select min">
            <option selected="selected">Выберите</option>
            <option>0</option>
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
            <option>6</option>
            <option>7</option>
            <option>8</option>
            <option>9</option>
            <option>10</option>
            <option>11</option>
            <option>12</option>
            <option>13</option>
            <option>14</option>
            <option>15</option>
            <option>16</option>
            <option>17</option>
            <option>18</option>
            <option>19</option>
            <option>20</option>
          </select>
        </div>
      </div>
      <div class="card-redactor--buttons">
        <button class="card-redactor--btn fontbold-redaktor"><img src="bold.png" alt="">
        </button>
        <button class="card-redactor--btn fontitalic-redaktor"><img src="italic.png" alt="">
        </button>
        <button class="card-redactor--btn fontunder-redaktor"><img src="under.png" alt="">
        </button>
        <button class="card-redactor--btn fontcaps-redaktor"><img src="upp.png" alt="">
        </button>
        <button class="card-redactor--btn fontleft-redaktor"><img src="f_left.png" alt="">
        </button>
        <button class="card-redactor--btn fontcenter-redaktor"><img src="f_center.png" alt="">
        </button>
        <button class="card-redactor--btn fontright-redaktor"><img src="f_right.png" alt="">
        </button>
      </div>
      <div class="card-redactor--font_def"><span>Искривление текста:</span>
        <button class="card-redactor--btn circle-arc-reversed"><img src="int.png" alt="">
        </button>
        <button class="card-redactor--btn circle-arc-base"><img src="int_t.png" alt="">
        </button>
      </div>
      <div class="row">
          <div class="card-redactor--font_def color-redaktor"><span>Цвет текста:</span>
            <select class="card-redactor--select">
              <option value="" selected="selected">Выберите</option>
              <option value="#000000">Черный</option>
              <option value="#ffffff">Белый</option>
              <option value="#C32E4C">Красный</option>
              <option value="#343175">Синий</option>
              <option value="#808080">Серый</option>
            </select>
          </div>
      </div>
      <div class="card-redactor--font_def forms fs"><span>Добавить форму:</span>
            <div class="card-redactor--font_def forms_btn">
              <button class="card-redactor--fbtn circle" id="add-circle"></button>
              <button class="card-redactor--fbtn rect" id="add-rect"></button>
              <button class="card-redactor--fbtn star" id="add-star"></button>
              <button class="card-redactor--fbtn square" id="add-square"></button>
              <button class="card-redactor--fbtn zig" id="add-zig"></button>
              <button class="card-redactor--fbtn polos1" id="add-polos1"></button>
              <button class="card-redactor--fbtn polos2" id="add-polos2"></button>
              <button class="card-redactor--fbtn polos3" id="add-polos3"></button>
              <button class="card-redactor--fbtn polosv" id="add-polosv"></button>
            </div>
      </div>
      <div class="row">
          <div class="card-redactor--font_def figure-redaktor"><span>Цвет фигуры:</span>
            <div class="card-redactor--figure figure-color">
                <div class="figure-first-option">Выберите</div>
                <div id="figure-color"><div date-bg="#223A76">Синий</div><div date-bg="#D93740">Красные</div><div date-bg="#D70C7A">Розовый</div><div date-bg="#009A6E">Зелёный</div><div date-bg="#FCEA76">Жёлтый</div><div date-bg="#E6DD01">Оранжевый</div><div date-bg="#000000">Чёрный</div><div date-bg="#a6a6a6">Серый</div></div>
            </div>
          </div>
      </div>
      <div class="status-personalize"></div>
      <div><button data-fancybox="" data-src="#message-maket" type="button" class="card-redactor--order_btn add-maket">Посмотреть макет</button></div>
        <script>
             $(document).ready(function(){
                $('.cart-hidden-blok-orf').hide();
                $('.cart-hidden-blok-button').hide();
                $('.add-maket').click(function(){
                    $('.cart-hidden-blok-orf').show();
                $('.cart-hidden-blok-button').show(); 
                });
             });
        </script>
    </div>
  </main>
  <div class="shk-item">
    <form class="shk-tovat-form" action="http://ideal.help30.ru/svadbyi/priglasheniya/priglashenieczvetyi-1.html" method="post">
        <input name="shk-id" value="169" type="hidden">
        <input name="shk-name" value="ПРИГЛАШЕНИЕ ЦВЕТЫ-0" type="hidden">
        <div class="personalize-input">
            <input class="input-img1" name="img1__169__add" value="" type="hidden">
            <input class="input-img2" name="img2__169__add" value="" type="hidden">
        </div>
        <div class="other-colors-input">
            <input class="input-colors1" name="input-colors1__169__add" value="" type="hidden">
            <input class="input-text1" name="input-text1__169__add" value="" type="hidden">
        </div>
        <div class="personalize-clon"></div>
        <!--input type="hidden" class="shk-itemPrice" name="shk-itemprice__169__add" value="" /-->
        <input class="shk-fullPrice" name="shk-fullprice" value="1485" type="hidden">
        <div class="dopPrice-inputs"><input name="shk-dopcena" value="0" type="hidden"><input name="did__169__add" value="0__99/0-169" type="hidden"></div>
        <div class="dopPrice-inputs-p"><input name="shk-dopcena-p" value="0" type="hidden"><input name="pid__169__add" value="0__99/0|0-169" type="hidden"></div>
  <div class="card-row">
    <p class="card-redactor--sub">
      Пригласительный. Размер 17,5 х 12,5 см. Цифровая
      печать. Доступен в электронном и печатном виде.
      Электронный макет предоставляется в формате .pdf.
      Минимальный печатный тираф - 15 шт.
    </p>
    <br><br>
    <div class="card-redactor--actions">
              <div class="card-redactor--action ord">
        <h3 class="time-title">Заказ
          <div class="time-line"></div>
        </h3>
        <div class="card-redactor--order">
          <div class="card-redactor--order_vars">
            <div class="card-redactor--order_var"><input data-price="0" data-name="Напечатанный" data-id="1" name="electron__169__add" value="Напечатанный/0руб." id="electron1" checked="checked" type="radio"><label for="electron1">Напечатанный</label></div> <div class="card-redactor--order_var"><input data-price="990" data-name="Электронный (односторонний)" data-id="2" name="electron__169__add" value="Электронный (односторонний)/990руб." id="electron2" type="radio"><label for="electron2">Электронный (односторонний)</label></div> <div class="card-redactor--order_var"><input data-price="1190" data-name="Электронный (двусторонний)" data-id="3" name="electron__169__add" value="Электронный (двусторонний)/1190руб." id="electron3" type="radio"><label for="electron3">Электронный (двусторонний)</label></div>
      
            <br>
            <div class="time-line"></div>
          </div>
          <div class="card-redactor--order_vars_person">
            <div class="card-redactor--order_var"><input data-price="0" data-name="Без персонализации" data-id="1" name="personalizaciya__169__add" value="Без персонализации/0руб." id="personalizaciya1" checked="checked" type="radio"><label for="personalizaciya1">Без персонализации</label></div> <div class="card-redactor--order_var"><input data-price="300" data-name="С персонализацией" data-id="2" name="personalizaciya__169__add" value="С персонализацией/300руб." id="personalizaciya2" type="radio"><label for="personalizaciya2">С персонализацией</label></div>
          </div>

          
          <div class="time-line"></div>
          <div class="card-redactor--order_body">
            <div style="display:none;"></div>
            <div class="card-redactor--font_def mid"><span>Бумага</span>
                <select class="shk_param" name="bumaga__169" id="bumaga169" onchange="SHK.additOpt(this)">
	<option value="0__99" selected="selected">Простая бумага (односторонняя)</option>
	<option value="1__119">Простая бумага (двухсторонняя)</option>
	<option value="2__139">Перламутровая бумага (односторонняя)</option>
	<option value="3__159">Перламутровая бумага (двухсторонняя)</option>
	<option value="4__129">Акварельная бумага (односторонняя)</option>
	<option value="5__149">Акварельная бумага (двухсторонняя)</option>
</select> 
            </div>
            
            <div class="card-redactor--font_def sho"><span>Количество штук</span>
              <input class="card-redactor--input total-count" style="margin-left:-70px;width: 94px;" name="shk-count" value="15" type="number">
              
            </div>
          </div>
          <div class="time-line"></div>
          <div class="cart-hidden-blok-orf card-redactor--order_conf" style="display: none;">
            <input id="orfograf" name="shk-osibki" value="Я проверил(а) орфографию и пунктуацию" type="checkbox">
            <label for="orfograf"><span>Я проверил(а) орфографию и пунктуацию</span></label>
          </div>
          <div class="card-redactor--order_price">Стоимость: <span>1485</span> Р</div>
          <div class="cart-hidden-blok-button" style="position: relative; display: none;"><button type="submit" class="card-redactor--order_btn shk-but add-tocart" disabled="disabled">Добавить в корзину<span class="line"></span></button></div>
         
          
          
          <script>
            $('#orfograf').click(function(){
                if ($(this).is(':checked')){
                    $('.add-tocart').removeAttr('disabled');
                } else {
                    $('.add-tocart').attr('disabled', 'disabled'); 
                }
            });
          </script>
          
          <!-- СКРИПТ подсчёта цены на странице (визуально) -->
<script>
$(function () {
	$('.card-redactor--font_def .option-tovar option').each(function () {
	   if ($(this).attr('data-opionprice') == "") {
        $(this).attr('data-opionprice','0');
        var elm = 0;
       }else {
           var elm = $(this).attr('data-opionprice');
       }
	});
});
var fulltotal = 0;
var total = 0;
var optionprice =0;
var radioVar =0;
var totalCount =0;
var privazkaPrice =0;
var personalize =0;
var dcena =0;
var dname = '';
var did = 0;

$(document).ready(function(){



    total = $('.card-redactor--order_price span').text();
    totalCount = $('.total-count').val();
    console.log('Количество(totalCount): '+totalCount);
    
    if ($(this).find('input').attr('checked') == "checked") {
    radioVar = $(this).find('input').val();
    radioVar = radioVar.split('__');
	radioVar = radioVar[1];
	console.log(radioVar);
    }
    
    
    /**/
    dcena = $('.card-redactor--order_vars > .card-redactor--order_var:first-child > input').attr('data-price');
    console.log('dcena:'+dcena);
    var dname = $('.card-redactor--order_vars > .card-redactor--order_var:first-child > input').attr('data-name');
    var did = $('.card-redactor--order_vars > .card-redactor--order_var:first-child > input').attr('data-id');
    
    var pcena = $('.card-redactor--order_vars_person > .card-redactor--order_var:first-child > input').attr('data-price');
    var pname = $('.card-redactor--order_vars_person > .card-redactor--order_var:first-child > input').attr('data-name');
    var pid = $('.card-redactor--order_vars_person > .card-redactor--order_var:first-child > input').attr('data-id');
    
    var dbumaga =$('.card-redactor--font_def select.shk_param option:first-child').attr('value');
    
    $('.card-redactor--order_vars > .card-redactor--order_var:first-child > input').attr('checked','checked');
    $('.card-redactor--order_vars_person > .card-redactor--order_var:first-child > input').attr('checked','checked');
    
    $('.dopPrice-inputs').html('<input type="hidden" name="shk-dopcena" value="'+dcena+'" /><input type="hidden" name="did__169__add" value="'+dbumaga+'/'+dcena+'-169" />');
    $('.dopPrice-inputs-p').html('<input type="hidden" name="shk-dopcena-p" value="'+dcena+'" /><input type="hidden" name="pid__169__add" value="'+dbumaga+'/'+radioVar+'|'+pcena+'-169" />');
    console.log(dbumaga);
    $('.card-redactor--font_def select.shk_param').change(function() {
        dbumaga = $('.card-redactor--font_def select.shk_param').val();
    });
    
    $('.card-redactor--order_vars .card-redactor--order_var input[type=radio]').change(function() {
        var dcena = $(this).attr('data-price');
        var dname = $(this).attr('data-name');
        var did = $(this).attr('data-id');
        if ($(this).prop("checked")) {
            console.log(dcena,'--',dname,'--',did,'--',radioVar);
            $('.dopPrice-inputs').html('<input type="hidden" name="shk-dopcena" value="'+dcena+'" /><input type="hidden" name="did__169__add" value="'+dbumaga+'/'+dcena+'-169" />');
        }
        var aPV = $( ".card-redactor--order_vars > .card-redactor--order_var > input");
        var aPVP = $( ".card-redactor--order_vars_person > .card-redactor--order_var > input");
        apdatePriceVars(aPV,aPVP);
    });
    $('.card-redactor--order_vars_person .card-redactor--order_var input[type=radio]').change(function() {
        var pcena = $(this).attr('data-price');
        var pname = $(this).attr('data-name');
        var pid = $(this).attr('data-id');
        if ($(this).prop("checked")) {
            console.log(pcena,'--',pname,'--',pid,'--',radioVar);
            $('.dopPrice-inputs-p').html('<input type="hidden" name="shk-dopcena-p" value="'+pcena+'" /><input type="hidden" name="pid__169__add" value="'+dbumaga+'/'+radioVar+'|'+pcena+'-169" />');
        }
        var aPV = $( ".card-redactor--order_vars > .card-redactor--order_var > input");
        var aPVP = $( ".card-redactor--order_vars_person > .card-redactor--order_var > input");
        apdatePriceVars(aPV,aPVP);
    });
/**/
    
    
    
    if ($('.card-redactor--font_def.mid select option:selected').length > 0) {
        optionprice = $('.card-redactor--font_def.mid select').find('option:selected').val();
    	optionprice = optionprice.split('__');
    	optionprice = optionprice[1];
    	console.log('Опция(optionprice): '+optionprice);
    }
    fulltotal = (parseInt(total) + parseInt(optionprice))*parseInt(totalCount) + (parseInt(radioVar) + parseInt(personalize));
	$(".card-redactor--order_price span").text(fulltotal);
	$(".shk-itemPrice").val(optionprice);
	$(".shk-fullPrice").val(fulltotal);
	$(".shk-dopPrice").val(radioVar);
	
	console.log('total: '+total+'<br>');
	console.log('optionprice: '+optionprice+'<br>');
	console.log('radioVar: '+radioVar+'<br>');
	console.log('personalize: '+personalize+'<br>');
});

$(document).on('input keyup', function(e) {  
    totalCount = $('.total-count').val();
    $('.total-count').val(totalCount);
    console.log(totalCount);
});



function apdatePriceVars(apPVi,apPVPi){
    var apPV = apPVi;
    var apPVP = apPVPi;
    apPVi.each(function () {
        if ($(this).prop('checked') == true) {
            console.log('IF1: '+$(this).attr('data-price'));
        	
            $('.card-redactor--order_price span').text(fulltotal);
            $('.shk-itemPrice').val(optionprice);
            $('.shk-fullPrice').val(fulltotal);
            $('input[name="shk-dopcena"]').val(radioVar);
            $('input[name="shk-dopcena-p"]').val(personalize);

            dbumaga = $('.card-redactor--font_def select.shk_param').val();

                dcena = $(this).attr('data-price');
                dname = $(this).attr('data-name');
                did = $(this).attr('data-id');
                if ($(this).prop("checked")) {
                    console.log(dcena,'--',dname,'--',did,'--',radioVar);
                    $('.dopPrice-inputs').html('<input type="hidden" name="shk-dopcena" value="'+dcena+'" /><input type="hidden" name="did__169__add" value="'+dbumaga+'/'+dcena+'-169" />');
                }

        }
    });
    apPVPi.each(function () {
        if ($(this).prop('checked') == true) {
        	
        	console.log('IF2: '+$(this).attr('data-price'));
        	
            $(".card-redactor--order_price span").text(fulltotal);
            $(".shk-itemPrice").val(optionprice);
            $(".shk-fullPrice").val(fulltotal);
            $(".shk-dopPrice").val(radioVar);
            $(".shk-dopPrice-p").val(personalize);
            
            $('input[name="shk-dopcena"]').val(radioVar);
            $('input[name="shk-dopcena-p"]').val(personalize);
            
            dbumaga = $('.card-redactor--font_def select.shk_param').val();
                
                apPVi.each(function () {
                    if ($(this).prop('checked') == true) {
                        dcena = $(this).attr('data-price');
                        dname = $(this).attr('data-name');
                        did = $(this).attr('data-id');
                    }
                });

                var pcena = $(this).attr('data-price');
                var pname = $(this).attr('data-name');
                var pid = $(this).attr('data-id');
                if ($(this).prop("checked")) {
                    console.log(pcena,'--',pname,'--',pid,'--',radioVar);
                    $('.dopPrice-inputs-p').html('<input type="hidden" name="shk-dopcena-p" value="'+pcena+'" /><input type="hidden" name="pid__169__add" value="'+dbumaga+'/'+radioVar+'|'+pcena+'-169" />');
                }
            
        }    
    });
}

 $('.card-redactor--order_vars .card-redactor--order_var').each(function () {
    if ($(this).find('input').attr('checked') == "checked") {
        radioVar = $(this).find('input').val();
        radioVar = radioVar.split('__');
		radioVar = radioVar[1];
    }

    $( ".card-redactor--order_vars .card-redactor--order_var input" ).change(function() {
        if ($(this).prop('checked') == true) {
    		radioVar = $(this).attr('data-price');
    		var fulltotal = (parseInt(total) + parseInt(optionprice))*parseInt(totalCount) + parseInt(radioVar) + parseInt(personalize);
            $(".card-redactor--order_price span").text(fulltotal);
            $(".shk-itemPrice").val(optionprice);
	        $(".shk-fullPrice").val(fulltotal);
	        $(".shk-dopPrice").val(radioVar);
	        $(".shk-dopPrice-p").val(personalize);
	        console.log('radioVar:'+radioVar);
    	}
	});
	$( ".card-redactor--order_vars_person .card-redactor--order_var input" ).change(function() {
        if ($(this).prop('checked') == true) {
    		personalize = $(this).attr('data-price');
    		var fulltotal = (parseInt(total) + parseInt(optionprice))*parseInt(totalCount) + parseInt(radioVar) + parseInt(personalize);
            $(".card-redactor--order_price span").text(fulltotal);
            $(".shk-itemPrice").val(optionprice);
	        $(".shk-fullPrice").val(fulltotal);
	        $(".shk-dopPrice").val(radioVar);
	        $(".shk-dopPrice-p").val(personalize);
    	}
	});
 });
 
 $( ".card-redactor--font_def.mid select" ).change(function() {
   if ($('.card-redactor--font_def.mid select option:selected').length > 0) {
        optionprice = $('.card-redactor--font_def.mid select').find('option:selected').val();
		optionprice = optionprice.split('__');
		optionprice = optionprice[1];
		var fulltotal = (parseInt(total) + parseInt(optionprice))*parseInt(totalCount) + parseInt(radioVar) + parseInt(personalize);
        $(".card-redactor--order_price span").text(fulltotal);
        $(".shk-itemPrice").val(optionprice);
        $(".shk-fullPrice").val(fulltotal);
        $(".shk-dopPrice").val(radioVar);
        var aPV = $( ".card-redactor--order_vars > .card-redactor--order_var > input");
        var aPVP = $( ".card-redactor--order_vars_person > .card-redactor--order_var > input");
        apdatePriceVars(aPV,aPVP);
   } else {
    
  }

  });
$(document).bind("change paste keyup", function() {
    var fulltotal = (parseInt(total) + parseInt(optionprice))*parseInt(totalCount) + parseInt(radioVar) + parseInt(personalize);
	$(".card-redactor--order_price span").text(fulltotal);
	$(".shk-itemPrice").val(optionprice);
	$(".shk-fullPrice").val(fulltotal);
	$(".shk-dopPrice").val(radioVar);
});




</script>
        </div>
      </div>
      <div class="card-redactor--action dop">
  <h3 class="time-title">Этот комплект дополнят
    <div class="time-line"></div>
  </h3>
  <ul class="card-redactor--comp">
    <li><a class="dop-tovar-blok" href=""><div class="dop-text"><img src="priglash-text2.png"></div><div class="dop-podlojka"><img src="Siren1.jpg"></div></a></li>
<li><a class="dop-tovar-blok" href="http://ideal.help30.ru/svadbyi/priglasheniya/priglashenie-czvetyi-2.html"><div class="dop-text"><img src="text-priglash.png"></div><div class="dop-podlojka"><img src="Bezevii.jpg"></div></a></li>
<li><a class="dop-tovar-blok" href="http://ideal.help30.ru/svadbyi/priglasheniya/priglashenie-czvetyi-2-2.html"><div class="dop-text"><img src="text-priglash.png"></div><div class="dop-podlojka"><img src="Bezevii.jpg"></div></a></li>
<li><a class="dop-tovar-blok" href="http://ideal.help30.ru/svadbyi/priglasheniya/priglashenie-czvetyi-3.html"><div class="dop-text"><img src="priglash-text2.png"></div><div class="dop-podlojka"><img src="Siren1.jpg"></div></a></li>
<li><a class="dop-tovar-blok" href="http://ideal.help30.ru/svadbyi/priglasheniya/priglashenie-czvetyi-2-3.html"><div class="dop-text"><img src="text-priglash.png"></div><div class="dop-podlojka"><img src="Bezevii.jpg"></div></a></li>
<li><a class="dop-tovar-blok" href="http://ideal.help30.ru/svadbyi/priglasheniya/priglashenie-czvetyi-4.html"><div class="dop-text"><img src="priglash-text2.png"></div><div class="dop-podlojka"><img src="Siren1.jpg"></div></a></li>
  </ul>
</div>
    </div>
  </div>
</form></div>


</div>

<script>
var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
var isSafari = /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor);

// ИЗМЕНЕНИЕ РАЗМЕРА
interact('.resize-drag')
  .draggable({
    onmove: window.dragMoveListener,
    restrict: {
      restriction: 'parent',
      elementRect: { top: 0, left: 0, bottom: 1, right: 1 }
    },
  })
  .resizable({
    // resize from all edges and corners
    edges: { left: true, right: true, bottom: true, top: true },

    // keep the edges inside the parent
    restrictEdges: {
      outer: 'parent',
      endOnly: true,
    },

    // minimum size
    restrictSize: {
      min: { width: 20, height: 20 },
    },

    inertia: true,
  })
  .on('resizemove', function (event) {
    var target = event.target,
        x = (parseFloat(target.getAttribute('data-x')) || 0),
        y = (parseFloat(target.getAttribute('data-y')) || 0);

    // update the elements style
    target.style.width  = event.rect.width + 'px';
    target.style.height = event.rect.height + 'px';

    // translate when resizing from top or left edges
    x += event.deltaRect.left;
    y += event.deltaRect.top;

    target.style.webkitTransform = target.style.transform =
        'translate(' + x + 'px,' + y + 'px)';

    target.setAttribute('data-x', x);
    target.setAttribute('data-y', y);
  });

// ПЕРЕТАСКИВАНИЕ
interact('.draggable')
  .draggable({
    // enable inertial throwing
    inertia: true,
    // keep the element within the area of it s parent
    restrict: {
      restriction: "parent",
      endOnly: true,
      elementRect: { top: 0, left: 0, bottom: 1, right: 1 }
    },
    // enable autoScroll
    autoScroll: true,

    // call this function on every dragmove event
    onmove: dragMoveListener,
    // call this function on every dragend event
    onend: function (event) {
      var textEl = event.target.querySelector('p');

      textEl && (textEl.textContent =
        'moved a distance of '
        + (Math.sqrt(Math.pow(event.pageX - event.x0, 2) +
                     Math.pow(event.pageY - event.y0, 2) | 0))
            .toFixed(2) + 'px');
    }
  });

  function dragMoveListener (event) {
    var target = event.target,
        // keep the dragged position in the data-x/data-y attributes
        x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx,
        y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;

    // translate the element
    target.style.webkitTransform =
    target.style.transform =
      'translate(' + x + 'px, ' + y + 'px)';

    // update the posiion attributes
    target.setAttribute('data-x', x);
    target.setAttribute('data-y', y);
  }

  // this is used later in the resizing and gesture demos
  window.dragMoveListener = dragMoveListener;

// Функция удаление текст
function delObekt (event) {
    $(this).parent().remove();
    if (isSafari) {
        $(this).parent().remove();
    }
}



// Функция изменения текст
function nl2br (str, is_xhtml) {
    var breakTag = (is_xhtml || typeof is_xhtml === 'undefined') ? '<br />' : '<br>';
    return (str + '').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g, '$1' + breakTag + '$2');
}
function pause(delay) {
  var startTime = Date.now();

  while (Date.now() - startTime < delay);
}


function editObekt (event) {
    if (isSafari) {
        var itemtext = $(this).text();
        itemtext  = itemtext.trim(/\r|\n/g, '');
        $('.card-redactor--desc').text(itemtext);
        $('.card-redactor--desc').attr('value',itemtext);
        $('.card-redactor--desc').val(String(itemtext));
        $('.item').removeClass('focus-redakt').removeAttr('id');
        $(this).addClass('focus-redakt').attr('id','focus-redakt');
        $(".card-redactor--desc").bind("change paste keyup", function() {
            $('.focus-redakt .redakt-text').html(nl2br($(this).val()));
            $('.focus-redakt .redakt-text').attr('data-text',$(this).val());
            $('.card-redactor--desc').attr('value',$(this).val());
            $(".circle-arc-reversed").removeClass('active').removeAttr('disabled').removeAttr('id');
            $(".circle-arc-base").removeClass('active').removeAttr('disabled').removeAttr('id');
        });
        // alert('Редактируем текст');
        $(".circle-arc-reversed").removeClass('active').removeAttr('disabled').removeAttr('id');
        $(".circle-arc-base").removeClass('active').removeAttr('disabled').removeAttr('id');

         // Изменение цвета фигуры при переключении с одной на другую 
        //$('.item').hammer({domEvents:true}).on("doubletap",editObekt);
        //$('.item > .rotated-blok').dblclick(function(){
        
        $('.item > .rotated-blok').hammer({domEvents:true}).on('doubletap', function(){
            var id = $(this).find('canvas').attr('id');
            var canimage = $(this).find('canvas').attr('date-image');
            var canbg = $(this).find('canvas').attr('date-bg');
            transformador = new CanvasImage(
            jQ(id),
              canimage
            );
            
            CanvasImage.prototype.transform;
            //alert('mob');
        });
        
        
    }else {
    var itemtext = $(this).text();
    itemtext  = itemtext.trim(/\r|\n/g, '');
    $('.card-redactor--desc').text(itemtext);
    $('.card-redactor--desc').attr('value',itemtext);
    $('.card-redactor--desc').val(itemtext);
    $('.item').removeClass('focus-redakt').removeAttr('id');
    $(this).addClass('focus-redakt').attr('id','focus-redakt');
    $(".card-redactor--desc").bind("change paste keyup", function() {
        $('.focus-redakt .redakt-text').html(nl2br($(this).val()));
        $('.focus-redakt .redakt-text').attr('data-text',$(this).val());
        $('.card-redactor--desc').attr('value',$(this).val());
        $(".circle-arc-reversed").removeClass('active').removeAttr('disabled').removeAttr('id');
        $(".circle-arc-base").removeClass('active').removeAttr('disabled').removeAttr('id');
    });
    $(".circle-arc-reversed").removeClass('active').removeAttr('disabled').removeAttr('id');
    $(".circle-arc-base").removeClass('active').removeAttr('disabled').removeAttr('id');
    
    if($(this).find('div > canvas').length){
        $('.item > .rotated-blok').hammer({domEvents:true}).on('doubletap', function(){
        
            var id = $(this).find('canvas').attr('id');
            var canimage = $(this).find('canvas').attr('date-image');
            var canbg = $(this).find('canvas').attr('date-bg');
            console.log(id);
            transformador = new CanvasImage(
            jQ(id),
              canimage
            );
            
            CanvasImage.prototype.transform;
            console.log('Изменён цвет');
            //alert('komp');
            
        });
    }else {
        
        $('.item > .rotated-blok').hammer({domEvents:true}).on('doubletap', function(){
        
            var id = $(this).find('canvas').attr('id');
            var canimage = $(this).find('canvas').attr('date-image');
            var canbg = $(this).find('canvas').attr('date-bg');
            console.log(id);
            transformador = new CanvasImage(
            jQ(id),
              canimage
            );
            
            CanvasImage.prototype.transform;
            console.log('Изменён цвет');
        });
    }
    
     
    // Изменение цвета фигуры при переключении с одной на другую 
    //$('.item').hammer({domEvents:true}).on("doubletap",editObekt);
    //$('.item > .rotated-blok').dblclick(function(){
    $('.item > .rotated-blok').hammer({domEvents:true}).on('doubletap', function(){
    
        var id = $(this).find('canvas').attr('id');
        var canimage = $(this).find('canvas').attr('date-image');
        var canbg = $(this).find('canvas').attr('date-bg');
        console.log(id);
        transformador = new CanvasImage(
        jQ(id),
          canimage
        );
        
        CanvasImage.prototype.transform;
        console.log('Изменён цвет');
    });

    }
    var focus = $('.card-redactor--desc').attr('value');
    $('.card-redactor--desc').focus().val(focus+' ');
    //alert('focus');
    if($(this).hasClass("arc-reversed")) {
        $('.circle-arc-reversed').addClass('active');
        $('.circle-arc-reversed').attr('id','circle-on');
    }
    if($(this).hasClass("arc-base")) {
        $('.circle-arc-base').addClass('active');
        $('.circle-arc-base').attr('id','circle-on');
    }
}


// Функция изменения параметров шрифта
function fontOption () {
    var optiFont = '';
    var attrFont = $(this).attr('date-fontsize');
    var attrInt = $(this).attr('date-fontint');
    var divWidth = $('.focus-redakt').width();
    var divHeight = $('.focus-redakt').height();
    var defStyle = $('.focus-redakt').attr('style');
    var dataShrift = 'font-family: '+$('.focus-redakt').attr('data-shrift');
    var dataShriftClass = $('.focus-redakt').attr('data-shrift');
    $(".font-redaktor select").change(function() {
            $(this).find('option:selected').each(function() {
            console.log($(this).val());
            $('#focus-redakt').attr('data-fontsize',$(this).val());
            var fonSize = $('.focus-redakt').attr('data-fontsize');
            var fonInt = $('.focus-redakt').attr('data-fontInt');
            var dataX = $('.focus-redakt').attr('data-x');
            var dataY = $('.focus-redakt').attr('data-y');
            var dataColor = $('.focus-redakt').attr('data-color');
            dataShrift = $('.focus-redakt').attr('data-shrift');
            dataShriftClass = $('.focus-redakt').attr('data-shrift');
            if (jQuery.type(dataShrift) === "undefined"){dataShrift =''}else{dataShrift ='font-family: '+dataShrift+' !important' }
            $('.focus-redakt').attr('data-x',dataX);
            $('.focus-redakt').attr('data-y',dataY);
            console.log(dataX,'-',dataY);
            var fullstyle = defStyle+dataShrift+';color:'+dataColor+';font-size:'+fonSize+'px !important;letter-spacing:'+fonInt+'px !important;width:'+divWidth+'px;height:'+divHeight+'px;transform: translate('+dataX+'px, '+dataY+'px)';
            $('.focus-redakt').delay(500).attr('style',fullstyle);
        });
    });
    $(".interval-redaktor select").change(function() {
            $(this).find('option:selected').each(function() {
            $('.focus-redakt').attr('data-fontint',$(this).val());
            var fonSize = $('.focus-redakt').attr('data-fontsize');
            var fonInt = $('.focus-redakt').attr('data-fontInt');
            var dataX = $('.focus-redakt').attr('data-x');
            var dataY = $('.focus-redakt').attr('data-y');
            var dataColor = $('.focus-redakt').attr('data-color');
            dataShrift = $('.focus-redakt').attr('data-shrift');
            dataShriftClass = $('.focus-redakt').attr('data-shrift');
            if (jQuery.type(dataShrift) === "undefined"){dataShrift =''}else{dataShrift ='font-family: '+dataShrift+' !important' }
            $('.focus-redakt').attr('data-x',dataX);
            $('.focus-redakt').attr('data-y',dataY);
            var fullstyle = defStyle+dataShrift+';color:'+dataColor+';font-size:'+fonSize+'px !important;letter-spacing:'+fonInt+'px !important;width:'+divWidth+'px;height:'+divHeight+'px;transform: translate('+dataX+'px, '+dataY+'px)';
            $('.focus-redakt').delay(500).attr('style',fullstyle);
        });
    });
    $(".color-redaktor select").change(function() {
            $(this).find('option:selected').each(function() {
            $('.color-redaktor .card-redactor--select').attr('style','background-color:'+$(this).val()+'');
            $('.focus-redakt').attr('data-color',$(this).val());
            var fonSize = $('.focus-redakt').attr('data-fontsize');
            var fonInt = $('.focus-redakt').attr('data-fontInt');
            var dataX = $('.focus-redakt').attr('data-x');
            var dataY = $('.focus-redakt').attr('data-y');
            var dataColor = $('.focus-redakt').attr('data-color');
            dataShrift = $('.focus-redakt').attr('data-shrift');
            dataShriftClass = $('.focus-redakt').attr('data-shrift');
            if (jQuery.type(dataShrift) === "undefined"){dataShrift = ''}else{dataShrift ='font-family: '+dataShrift+' !important' }
            $('.focus-redakt').attr('data-x',dataX);
            $('.focus-redakt').attr('data-y',dataY);
            var fullstyle = defStyle+dataShrift+';color:'+dataColor+';font-size:'+fonSize+'px !important;letter-spacing:'+fonInt+'px !important;width:'+divWidth+'px;height:'+divHeight+'px;transform: translate('+dataX+'px, '+dataY+'px)';
            $('.focus-redakt').delay(500).attr('style',fullstyle);
        });
    });
    $(".shrift-redaktor").change(function() {
            $(this).find('option:selected').each(function() {
                $('.focus-redakt').attr('data-shrift',$(this).val());
                var fonSize = $('.focus-redakt').attr('data-fontsize');
                var fonInt = $('.focus-redakt').attr('data-fontInt');
                var dataX = $('.focus-redakt').attr('data-x');
                var dataY = $('.focus-redakt').attr('data-y');
                var dataColor = $('.focus-redakt').attr('data-color');
                dataShrift = $('.focus-redakt').attr('data-shrift');
                dataShriftClass = $('.focus-redakt').attr('data-shrift');
                if (jQuery.type(dataShrift) === "undefined"){dataShrift =''}else{dataShrift ='font-family: '+dataShrift+' !important' }
                if (jQuery.type(defStyle) === "undefined"){defStyle =''}
                $('.focus-redakt').attr('data-x',dataX);
                $('.focus-redakt').attr('data-y',dataY);
                var fullstyle = defStyle+dataShrift+';color:'+dataColor+';font-size:'+fonSize+'px !important;letter-spacing:'+fonInt+'px !important;width:'+divWidth+'px;height:'+divHeight+'px;transform: translate('+dataX+'px, '+dataY+'px)';
                $('.focus-redakt').delay(500).attr('style',fullstyle);
                /*$('.focus-redakt').addClass(dataShriftClass);*/
            });
    });
}

// Функция ДУГИ шрифта
$(".circle-arc-reversed").click(function() {
    var dataText = $('.card-redactor--desc').delay(1000).attr('value');
    console.log(dataText);
    if($(this).attr('id')=='circle-on'){
            dataText = $('.card-redactor--desc').delay(1000).attr('value');
            $(this).removeAttr('id').removeClass('active');
            $('.focus-redakt').find('.redakt-text').html(dataText);
             // $('.card-redactor--desc').removeAttr('disabled');
    }else{
        dataText = $('.card-redactor--desc').delay(1000).attr('value');
        $(this).attr('id','circle-on').addClass('active');
        $('.circle-arc-base').removeClass('active');
        $('.circle-arc-base').removeAttr('id');
        if($(this).attr('id')=='circle-on'){
            dataText = $('.card-redactor--desc').delay(1000).attr('value');
            $('.focus-redakt').find('.redakt-text').elipText({radius: 300, dir:-1});
            // $('.card-redactor--desc').attr('disabled','disabled');
        }
    }
});

$(".circle-arc-base").click(function() {
    var dataText = $('.card-redactor--desc').delay(1000).attr('value');
    console.log(dataText);
    if($(this).attr('id')=='circle-on'){
            dataText = $('.card-redactor--desc').delay(1000).attr('value');
            $(this).removeAttr('id').removeClass('active');
            $('.focus-redakt').find('.redakt-text').html(dataText);
            // $('.card-redactor--desc').removeAttr('disabled');
    }else{
        dataText = $('.card-redactor--desc').delay(1000).attr('value');
        $(this).attr('id','circle-on').addClass('active');
        $('.circle-arc-reversed').removeClass('active');
        $('.circle-arc-reversed').removeAttr('id');
        if($(this).attr('id')=='circle-on'){
            dataText = $('.card-redactor--desc').delay(1000).attr('value');
            $('.focus-redakt').find('.redakt-text').elipText({radius: 300});
           // $('.card-redactor--desc').attr('disabled','disabled');
        }
    }
});



// Функции стилей шрифта
$(".fontbold-redaktor").click(function() {
    /* $(this).toggleClass("active"); */
    $('.focus-redakt').toggleClass("fontbold-redaktor");
});
$(".fontitalic-redaktor").click(function() {
    if($(".focus-redakt").hasClass("fontitalic-redaktor")) {
       $('.focus-redakt').removeClass("fontitalic-redaktor");
    }else{
        $('.focus-redakt').addClass("fontitalic-redaktor");
    }
    /* $(this).toggleClass("active"); */
    /*$('.focus-redakt').toggleClass("fontitalic-redaktor");*/
});
$(".fontunder-redaktor").click(function() {
    /* $(this).toggleClass("active"); */
    $('.focus-redakt').find('.redakt-text').toggleClass("fontunder-redaktor");
});
$(".fontcaps-redaktor").click(function() {
    /* $(this).toggleClass("active"); */
    $('.focus-redakt').toggleClass("fontcaps-redaktor");
});
$(".fontleft-redaktor").click(function() {
    /* $(this).toggleClass("active"); */
    $('.focus-redakt').removeClass("fontcenter-redaktor");
    $('.focus-redakt').removeClass("fontright-redaktor");
    $('.focus-redakt').toggleClass("fontleft-redaktor");
});
$(".fontcenter-redaktor").click(function() {
    /* $(this).toggleClass("active"); */
    $('.focus-redakt').removeClass("fontright-redaktor");
    $('.focus-redakt').removeClass("fontleft-redaktor");
    $('.focus-redakt').toggleClass("fontcenter-redaktor");
});
$(".fontright-redaktor").click(function() {
    /* $(this).toggleClass("active"); */
    $('.focus-redakt').removeClass("fontleft-redaktor");
    $('.focus-redakt').removeClass("fontcenter-redaktor");
    $('.focus-redakt').toggleClass("fontright-redaktor");
});


// ИЗМЕНЕНИЕ ЦВЕТА ФИГУРЫ
function CanvasImage(canvas, src) {
  // load image in canvas
  var context = canvas.getContext('2d');
  console.log(context);
  var i = new Image();
  var that = this;
  i.onload = function(){
    canvas.width = i.width;
    canvas.height = i.height;
    context.drawImage(i, 0, 0, i.width, i.height);

    // remember the original pixels
    that.original = that.getData();
  };
  i.src = src;
  
  // cache these
  this.context = context;
  this.image = i;
}

CanvasImage.prototype.getData = function() {
  return this.context.getImageData(0, 0, this.image.width, this.image.height);
};

CanvasImage.prototype.setData = function(data) {
  return this.context.putImageData(data, 0, 0);
};

CanvasImage.prototype.reset = function() {
  this.setData(this.original);
}

CanvasImage.prototype.transform = function(fn, factor) {
  var olddata = this.original;
  var oldpx = olddata.data;
  var newdata = this.context.createImageData(olddata);
  var newpx = newdata.data
  var res = [];
  var len = newpx.length;
  for (var i = 0; i < len; i += 4) {
   res = fn.call(this, oldpx[i], oldpx[i+1], oldpx[i+2], oldpx[i+3], factor, i);
   newpx[i]   = res[0]; // r
   newpx[i+1] = res[1]; // g
   newpx[i+2] = res[2]; // b
   newpx[i+3] = res[3]; // a
  }
  this.setData(newdata);
};


var manipuladors = [
  
  {
    name: 'Синий',
    val: '#223A76',
    cb: function(r, g, b, a, factor) {
      return [54, 91, 147, a, factor];
    },
    factor: "value (0-255)"
  },
  {
    name: 'Красные',
    val: '#D93740',
    cb: function(r, g, b, a, factor) {
      return [224, 65, 65, a, factor];
    },
    factor: "value (0-255)"
  },
  {
    name: 'Розовый',
    val: '#D70C7A',
    cb: function(r, g, b, a, factor) {
      return [255, 0, 192, a, factor];
    },
    factor: "value (0-255)"
  },
  {
    name: 'Зелёный',
    val: '#009A6E',
    cb: function(r, g, b, a, factor) {
      return [69, 193, 98, a, factor];
    },
    factor: "value (0-255)"
  },
  {
    name: 'Жёлтый',
    val: '#FCEA76',
    cb: function(r, g, b, a, factor) {
      return [255, 204, 0, a, factor];
    },
    factor: "value (0-255)"
  },
  {
    name: 'Оранжевый',
    val: '#E6DD01',
    cb: function(r, g, b, a, factor) {
      return [255, 126, 0, a, factor];
    },
    factor: "value (0-255)"
  },
  {
    name: 'Чёрный',
    val: '#000000',
    cb: function(r, g, b, a, factor) {
      return [0, 0, 0, a, factor];
    },
    factor: "value (0-255)"
  },
  {
    name: 'Серый',
    val: '#a6a6a6',
    cb: function(r, g, b, a, factor) {
      return [166, 166, 166, a, factor];
    },
    factor: "value (0-255)"
  },

];


function jQ(id) {return document.getElementById(id)}

manipuladors.forEach(function(m,i) {
  i++;
  var b = document.createElement('div');
  b.innerHTML = m.name;
  b.setAttribute('date-bg', m.val);
  b.onclick = function() {
    var factor = null;

  transformador.transform(m.cb, factor);
    console.log('-->>>>'+m.cb);
    
  };
  //jQ('figure-color').after('<div>'+b+'</div>');
  jQ('figure-color').appendChild(b);
  //console.log(b);
  var label = m.factor;
});


// ДОБАВЛЕНИЕ ФИГУРЫ КРУГ
var transformador;
var ci = 1;
for (ci = ci; ci <= 1; ci++) {
$('#add-circle').click(function(){
    var canmage = 'template/img/circle.png';
    $('.resize-position.active > .resize-container').append('<div class="item fugury figure-circle resize-drag draggable"><canvas id="figure-circle'+ci+'" style="width:100%;" date-image="'+canmage+'" date-bg=""></canvas><div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text"></div></div>');
    
    // УДАЛЕНИЕ ДОБАВЛЕННОГО ОБЪЕКТА
    $('.icon-del-text').click(delObekt);
   // $('.icon-del-text').bind('touchstart', editObekt);
    // ИЗМЕНЕНИЕ ДОБАВЛЕННОГО ТЕКСТА ОБЪЕКТУ
    //$('.item').dblclick(editObekt);
    $('.item').hammer({domEvents:true}).on("doubletap",editObekt);

    // ВРАЩЕНИЕ ОБЪЕКТУ
    $('.circle-rotated').rotatable();
    // СМЕНА ЦВЕТА ФИГУРЫ
    transformador = new CanvasImage(
      jQ('figure-circle'+ci+''),
      canmage
    );
    ci = ci + 1;
});
} 



// ДОБАВЛЕНИЕ ФИГУРЫ STAR
var sti = 1;
function CanImgStar(){
    
}
for (sti = sti; sti <= 1; sti++) {
$('#add-star').click(function(){
    var canmage = 'template/img/star.png';
    $('.resize-position.active > .resize-container').append('<div class="item fugury star-add resize-drag draggable"><div class="rotated-blok star-rotated"><canvas id="figure-star'+sti+'" style="width:100%;" date-image="'+canmage+'" date-bg=""></canvas></div><div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text"></div></div>');
    
    // УДАЛЕНИЕ ДОБАВЛЕННОГО ОБЪЕКТА
    $('.icon-del-text').click(delObekt);
    //$('.item').bind('touchstart', delObekt);
    
    // ИЗМЕНЕНИЕ ДОБАВЛЕННОГО ТЕКСТА ОБЪЕКТУ
    //$('.item').dblclick(editObekt);
    $('.item').hammer({domEvents:true}).on("doubletap",editObekt);
    
    // ВРАЩЕНИЕ ОБЪЕКТУ
    $('.star-rotated').rotatable();
    
    // СМЕНА ЦВЕТА ФИГУРЫ
    transformador = new CanvasImage(
      jQ('figure-star'+sti+''),
      canmage
    );
    sti = sti + 1;
});
}

// ДОБАВЛЕНИЕ ФИГУРЫ RECT
var rei = 1;
for (rei = rei; rei <= 1; rei++) {
$('#add-rect').click(function(){
    var canmage = 'template/img/rect.png';
    $('.resize-position.active > .resize-container').append('<div class="item fugury rect-add resize-drag draggable"><div class="rotated-blok rect-rotated"><canvas id="figure-rect'+rei+'" style="width:100%;" date-image="'+canmage+'" date-bg=""></canvas></div><div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text"></div></div>');
    
    // УДАЛЕНИЕ ДОБАВЛЕННОГО ОБЪЕКТА
    $('.icon-del-text').click(delObekt);
   // $('.icon-del-text').bind('touchstart', delObekt);
    // ИЗМЕНЕНИЕ ДОБАВЛЕННОГО ТЕКСТА ОБЪЕКТУ
    //$('.item').dblclick(editObekt);
    $('.item').hammer({domEvents:true}).on("doubletap",editObekt);
    
    // ВРАЩЕНИЕ ОБЪЕКТУ
    $('.rect-rotated').rotatable();

    // СМЕНА ЦВЕТА ФИГУРЫ
    transformador = new CanvasImage(
      jQ('figure-rect'+rei+''),
      canmage
    );
    rei = rei + 1;
});
}



// ДОБАВЛЕНИЕ ФИГУРЫ КВАДРАТ
var sqi = 1;
for (sqi = sqi; sqi <= 1; sqi++) {
$('#add-square').click(function(){
    var canmage = 'template/img/square.png';
    $('.resize-position.active > .resize-container').append('<div class="item fugury square-add resize-drag draggable"><div class="rotated-blok square-rotated"><canvas id="figure-square'+sqi+'" style="width:100%;" date-image="'+canmage+'" date-bg=""></canvas></div><div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text"></div></div>');

    // УДАЛЕНИЕ ДОБАВЛЕННОГО ОБЪЕКТА
    $('.icon-del-text').click(delObekt);
   // $('.icon-del-text').bind('touchstart', delObekt);
    // ИЗМЕНЕНИЕ ДОБАВЛЕННОГО ТЕКСТА ОБЪЕКТУ
    //$('.item').dblclick(editObekt);
    $('.item').hammer({domEvents:true}).on("doubletap",editObekt);
    
    // ВРАЩЕНИЕ ОБЪЕКТУ
    $('.square-rotated').rotatable();
    // СМЕНА ЦВЕТА ФИГУРЫ
    transformador = new CanvasImage(
      jQ('figure-square'+sqi+''),
      canmage
    );
    sqi = sqi + 1;
});
}

// ДОБАВЛЕНИЕ ФИГУРЫ ЗИГЗАГ
var zi = 1;
for (zi = zi; zi <= 1; zi++) {
$('#add-zig').click(function(){
    var canmage = 'template/img/zig.png';
    $('.resize-position.active > .resize-container').append('<div class="item fugury zig-add resize-drag draggable"><div class="rotated-blok zig-rotated"><canvas id="figure-zig'+zi+'" style="width:100%;" date-image="'+canmage+'" date-bg=""></canvas></div><div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text"></div></div>');

    // УДАЛЕНИЕ ДОБАВЛЕННОГО ОБЪЕКТА
    $('.icon-del-text').click(delObekt);
    //$('.icon-del-text').bind('touchstart', delObekt);
    // ИЗМЕНЕНИЕ ДОБАВЛЕННОГО ТЕКСТА ОБЪЕКТУ
    //$('.item').dblclick(editObekt);
    $('.item').hammer({domEvents:true}).on("doubletap",editObekt);
    
    // ВРАЩЕНИЕ ОБЪЕКТУ
    $('.zig-rotated').rotatable();
    $('.zig-rotated').rotatable();
    // СМЕНА ЦВЕТА ФИГУРЫ
    transformador = new CanvasImage(
      jQ('figure-zig'+zi+''),
      canmage
    );
    zi = zi + 1;
});
}

// ДОБАВЛЕНИЕ ФИГУРЫ Широкая полоса
var pi = 1;
for (pi = pi; pi <= 1; pi++) {
$('#add-polos1').click(function(){
    var canmage = 'template/img/polosa1.png';
    $('.resize-position.active > .resize-container').append('<div class="item fugury polos1-add resize-drag draggable"><div class="rotated-blok polos1-rotated"><canvas id="figure-polos1'+pi+'" style="width:100%;" date-image="'+canmage+'" date-bg=""></canvas></div><div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text"></div></div>');

    // УДАЛЕНИЕ ДОБАВЛЕННОГО ОБЪЕКТА
    $('.icon-del-text').click(delObekt);
   // $('.icon-del-text').bind('touchstart', delObekt);
    // ИЗМЕНЕНИЕ ДОБАВЛЕННОГО ТЕКСТА ОБЪЕКТУ
    //$('.item').dblclick(editObekt);
    $('.item').hammer({domEvents:true}).on("doubletap",editObekt);
    
    // ВРАЩЕНИЕ ОБЪЕКТУ
    $('.polos1-rotated').rotatable();
    $('.polos1-rotated').rotatable();
    // СМЕНА ЦВЕТА ФИГУРЫ
    transformador = new CanvasImage(
      jQ('figure-polos1'+pi+''),
     canmage
    );
    pi = pi + 1;
});
}

// ДОБАВЛЕНИЕ ФИГУРЫ Тонкая полоса
var pti = 1;
for (pti = pti; pti <= 1; pti++) {
$('#add-polos2').click(function(){
    var canmage = 'template/img/polosa2.png';
    $('.resize-position.active > .resize-container').append('<div class="item fugury polos2-add resize-drag draggable"><div class="rotated-blok polos2-rotated"><canvas id="figure-polos2'+pti+'" style="width:100%;" date-image="'+canmage+'" date-bg=""></canvas></div><div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text"></div></div>');

    // УДАЛЕНИЕ ДОБАВЛЕННОГО ОБЪЕКТА
    $('.icon-del-text').click(delObekt);
   // $('.icon-del-text').bind('touchstart', delObekt);
    // ИЗМЕНЕНИЕ ДОБАВЛЕННОГО ТЕКСТА ОБЪЕКТУ
    //$('.item').dblclick(editObekt);
    $('.item').hammer({domEvents:true}).on("doubletap",editObekt);
    
    // ВРАЩЕНИЕ ОБЪЕКТУ
    $('.polos2-rotated').rotatable();
    $('.polos2-rotated').rotatable();
    // СМЕНА ЦВЕТА ФИГУРЫ
    transformador = new CanvasImage(
      jQ('figure-polos2'+pti+''),
      canmage
    );
    pti = pti + 1;
});
}

// ДОБАВЛЕНИЕ ФИГУРЫ Двойная полоса
var pdi = 1;
for (pdi = pdi; pdi <= 1; pdi++) {
$('#add-polos3').click(function(){
    var canmage = 'template/img/polosa3.png';
    $('.resize-position.active > .resize-container').append('<div class="item fugury polos3-add resize-drag draggable"><div class="rotated-blok polos3-rotated"><canvas id="figure-polos3'+pdi+'" style="width:100%;" date-image="'+canmage+'" date-bg=""></canvas></div><div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text"></div></div>');

    // УДАЛЕНИЕ ДОБАВЛЕННОГО ОБЪЕКТА
    $('.icon-del-text').click(delObekt);
   // $('.icon-del-text').bind('touchstart', delObekt);
    // ИЗМЕНЕНИЕ ДОБАВЛЕННОГО ТЕКСТА ОБЪЕКТУ
    //$('.item').dblclick(editObekt);
    $('.item').hammer({domEvents:true}).on("doubletap",editObekt);
    
    // ВРАЩЕНИЕ ОБЪЕКТУ
    $('.polos3-rotated').rotatable();
    $('.polos3-rotated').rotatable();
    // СМЕНА ЦВЕТА ФИГУРЫ
    transformador = new CanvasImage(
      jQ('figure-polos3'+pdi+''),
      canmage
    );
    pdi = pdi + 1;
});
}

// ДОБАВЛЕНИЕ ФИГУРЫ Волнистая полоса
var pvi = 1;
for (pvi = pvi; pvi <= 1; pvi++) {
$('#add-polosv').click(function(){
    var canmage = 'template/img/polosa-v.png';
    $('.resize-position.active > .resize-container').append('<div class="item fugury polosv-add resize-drag draggable"><div class="rotated-blok polosv-rotated"><canvas id="figure-polosv'+pvi+'" style="width:100%;" date-image="'+canmage+'" date-bg=""></canvas></div><div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text"></div></div>');

    // УДАЛЕНИЕ ДОБАВЛЕННОГО ОБЪЕКТА
    $('.icon-del-text').click(delObekt);
   // $('.icon-del-text').bind('touchstart', delObekt;
    // ИЗМЕНЕНИЕ ДОБАВЛЕННОГО ТЕКСТА ОБЪЕКТУ
    //$('.item').dblclick(editObekt);
    $('.item').hammer({domEvents:true}).on("doubletap",editObekt);
    
    // ВРАЩЕНИЕ ОБЪЕКТУ
    $('.polosv-rotated').rotatable();
    $('.polosv-rotated').rotatable();
    // СМЕНА ЦВЕТА ФИГУРЫ
    transformador = new CanvasImage(
      jQ('figure-polosv'+pvi+''),
      canmage
    );
    pvi = pvi + 1;
});
}


$('#figure-color > div').click(function(){
    var htmlColor = $(this).html();
    var valColor = $(this).attr('date-bg');
    $('.figure-color').attr('style','background-color:'+valColor+'');
    $('.figure-first-option').html(htmlColor);
});



// ДОБАВЛЕНИЕ ТЕКСТА
$('#add-text').click(function(){
    $('.resize-position.active > .resize-container').append('<div class="item text-add resize-drag draggable"><span class="redakt-text">Ваш текст</span><div class="card-rule left-top"></div><div class="card-rule left-bottom"></div><div class="card-rule right-top"></div><div class="card-rule right-bottom"></div><div class="icon-del-text"></div></div>');
    fontOption();
// УДАЛЕНИЕ ДОБАВЛЕННОГО ОБЪЕКТА
    $('.icon-del-text').click(delObekt);
   // $('.icon-del-text').bind('touchstart', delObekt;
// ИЗМЕНЕНИЕ ДОБАВЛЕННОГО ТЕКСТА ОБЪЕКТУ
    $('.item').dblclick(editObekt);
});

// УДАЛЕНИЕ ОБЪЕКТА
$('.icon-del-text').click(delObekt);
$('.icon-del-text').bind('touchstart', delObekt);

// ИЗМЕНЕНИЕ ТЕКСТА ОБЪЕКТУ
//$('.item').dblclick(editObekt);
$('.item').hammer({domEvents:true}).on("doubletap",editObekt);

//$('.item').bind('touchstart', editObekt);
// if (isSafari) {
//    element.addEventListener("touchmove", touchStart, true);
//    function touchStart(event) {
//      editObekt();
//    };
// };

// ИЗМЕНЕНИЕ РАЗМЕР ШРИФТА
$('.item').click(fontOption);

// Переключение сторон
$('.licevaya-on').click(function(){
    $('.licevaya').removeClass('resize-hidden');
    $('.licevaya').addClass('active');
    $('.oborotnaya').addClass('resize-hidden');
    $('.oborotnaya').removeClass('active');
    $(this).addClass('active');
    $('.oborotnaya-on').removeClass('active');
});
$('.oborotnaya-on').click(function(){
    $('.licevaya').addClass('resize-hidden');
    $('.licevaya').removeClass('active');
    $('.oborotnaya').removeClass('resize-hidden');
    $('.oborotnaya').addClass('active');
    $(this).addClass('active');
    $('.licevaya-on').removeClass('active');
});

// Изменение оттенка картинки
$('.palitra-cmyk > div').click(function(){
    var cvet = $(this).attr('date-rgb');
    var cvetShablon ='-moz-opacity: 0.2; -khtml-opacity: 0.2; opacity: 0.2; background:'+cvet+'; position:absolute; top:0; left:0; width:100%; height:100%;';
    $('.resize-position.active').find('.colorad').attr('style',cvetShablon);
});

// Функция очищения шаблона от технических бордеров и ползунков
$('.resize-container').mouseleave(function() {
    $('.resize-container .item').each(function(){
        $(this).addClass('no-border');
        $(this).find('.left-top').hide();
        $(this).find('.left-bottom').hide();
        $(this).find('.right-top').hide();
        $(this).find('.right-bottom').hide();
        $(this).find('.icon-del-text').hide();
    });
});
$('.resize-container').mouseover(function() {
    $('.resize-container .item').each(function(){
        $(this).removeClass('no-border');
        $(this).find('.left-top').removeAttr('style');
        $(this).find('.left-bottom').removeAttr('style');
        $(this).find('.right-top').removeAttr('style');
        $(this).find('.right-bottom').removeAttr('style');
        $(this).find('.icon-del-text').removeAttr('style');
    });
});
jQuery(document).ready(function(){
    $('.resize-container .item').each(function(){
        $(this).find('.icon-del-text').hide();
    });
});

</script>

<!--  Тест функции сриншота шаблона -->
<script>

function base64_decode( data ) {	// Decodes data encoded with MIME base64


	var b64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
	var o1, o2, o3, h1, h2, h3, h4, bits, i=0, enc='';

	do {  // unpack four hexets into three octets using index points in b64
		h1 = b64.indexOf(data.charAt(i++));
		h2 = b64.indexOf(data.charAt(i++));
		h3 = b64.indexOf(data.charAt(i++));
		h4 = b64.indexOf(data.charAt(i++));

		bits = h1<<18 | h2<<12 | h3<<6 | h4;

		o1 = bits>>16 & 0xff;
		o2 = bits>>8 & 0xff;
		o3 = bits & 0xff;

		if (h3 == 64)	  enc += String.fromCharCode(o1);
		else if (h4 == 64) enc += String.fromCharCode(o1, o2);
		else			   enc += String.fromCharCode(o1, o2, o3);
	} while (i < data.length);

	return enc;
}

// Добавляем ПЕРСОНАЛИЗАЦИЮ
$('#personalize-add-button').click(function(e) {
    var persons = $('#personalize-text').val();
    if(persons != ''){
        var count = $('.total-count').val();
        
        persons = persons.split(',');
        var n =0;
        $.each(persons,function(index,value){
        n = index+1;
        });
        
        var imena ='';
        var child =1;
        $('#card_body_clone > .card_body_clone_generated').html("");
        for (var i = 0; i <= n-1; i++) {
            $('#card_body').clone().appendTo("#card_body_clone > .card_body_clone_generated");
            imena = persons[i].split('/', 2);
            var imy1 = imena[0];
            var imy2 = imena[1];
            //$('#card_body_clone > .card_body_clone_generated > .card_body:nth-child('+child+') .card-in .licevaya .card-form .text3 span.redakt-text').html(imy1);
            //$('#card_body_clone > .card_body_clone_generated > .card_body:nth-child('+child+') .card-in .licevaya .card-form .text5 span.redakt-text').html(imy2);
            //$('#card_body_clone > .card_body_clone_generated > .card_body:nth-child('+child+') .card-in .oborotnaya .card-form .text3 span.redakt-text').html(imy1);
            //$('#card_body_clone > .card_body_clone_generated > .card_body:nth-child('+child+') .card-in .oborotnaya .card-form .text5 span.redakt-text').html(imy2);
            $('#card_body_clone > .card_body_clone_generated > .card_body:nth-child('+child+') .card-in .licevaya .card-form .text1 span.redakt-text').html(imy1+' и '+imy2);
            $('#card_body_clone > .card_body_clone_generated > .card_body:nth-child('+child+') ').attr('id','card_body_id_'+child+'');
            $('#card_body_clone > .card_body_clone_generated > .card_body:nth-child('+child+') .card-in .licevaya').attr('id','licevaya_id_'+child+'');
            $('#card_body_clone > .card_body_clone_generated > .card_body:nth-child('+child+') .card-in .oborotnaya').attr('id','oborotnaya_id_'+child+'');

            
            child = child+1;
            console.log(imy1,'-',imy2);
        }
        //var canvasId = $('.card_body_redactor > .card_body > .card-in > .licevaya > .card-form > .fugury').get(0);
        //html2canvas(canvasId).then(function(canvas) {
        //    canvas.globalAlpha = 0;
        //    var imag = canvas.toDataURL("image/png");
        //        $('#card_body_clone > .card_body_clone_generated > .card_body > .card-in > .licevaya > .card-form > .fugury > .rotated-blok > canvas').after('<img src = "'+imag+'"/>');
        //       
        //        console.log(imag);
        //});
        
        $('.status-personalize').html('Вы добавили персонализацию для '+n.toString()+' макетов. <br> <a data-fancybox data-src="#card_body_clone" href="javascript:;">Посмотреть персонализированные макеты.</a><br> <div>Сгенерируйте персонализацию прежде чем создавать макет</div>');
        $('.personalize-count-plashka').html('Вы добавили персонализацию для '+n.toString()+' макетов.');
    }
});


// Сохраняем как картинку
$('.add-maket').click(function(e) {

    var pHtml1 ='';
    var pHtml2 ='';
    
$(document).ready(function(){
    
    //Лицевая сторона
    html2canvas(document.getElementById("licevaya")).then(function(canvas) {
        var image1 = canvas.toDataURL("image/png");
        pHtml1 = image1;
    });
    
    //Оборотная сторона
    html2canvas(document.getElementById("oborotnaya")).then(function(canvas) {
        $('#message-maket').html('<center>Загружаем...</center>');
        $('#message-maket').append('<button data-fancybox-close="" class="fancybox-close-small" title="Close"><svg viewBox="0 0 32 32"><path d="M10,10 L22,22 M22,10 L10,22"></path></svg></button>');
        var image2 = canvas.toDataURL("image/png");
            pHtml2 = image2;
        
            // Загружаем на сервер
            $.ajax({
                type: 'POST',
                url: "http://ideal.help30.ru/upload.php",
                dataType: 'json',
                cache: false,
                data: {
                    image1:pHtml1,
                    image2:pHtml2,
                    urlSite:'http://ideal.help30.ru/',
                },
                success: function(data) {
                    $('.input-img1').val('http://ideal.help30.ru/'+data.photo1);
                    $('.input-img2').val('http://ideal.help30.ru/'+data.photo2);
                    $('.pHtml1').attr('src',data.photo1);
                    $('.pHtml2').attr('src',data.photo2);
                    pHtml1 = data.photo1;
                    pHtml2 = data.photo2;
                    $('#message-maket').html('<img src='+data.photo1+' width="49%"><img src='+data.photo2+' width="49%">');
                    $('#message-maket').append('<button data-fancybox-close="" class="fancybox-close-small" title="Close"><svg viewBox="0 0 32 32"><path d="M10,10 L22,22 M22,10 L10,22"></path></svg></button>');
                }
            });
       
        });
    });
});

//Функция создания изображений клонов
function clonPreview(lc,ob,ind) {
    $('.message .fa-spinner').remove();
    html2canvas(lc).then(function(canvas) {
        var img = canvas.toDataURL("image/png");
        
        // Загружаем на сервер
        $.ajax({
            type: 'POST',
            url: "http://ideal.help30.ru/upload.php",
            dataType: 'json',
            cache: false,
            data: {
                image1:img,
                urlSite:'http://ideal.help30.ru/',
            },
            success: function(data) {
                $('#message .clone-lc').append('<img src='+data.photo1+' width="32%">');
                $('.personalize-clon').append('<input type="hidden" class="input-img'+ind+'" name="img-lc'+ind+'__169__add" value="'+data.urlSite+''+data.photo1+'" />');
            }
        });
    });
    html2canvas(ob).then(function(canvas) {
        var img = canvas.toDataURL("image/png");
        
        // Загружаем на сервер
        $.ajax({
            type: 'POST',
            url: "http://ideal.help30.ru/upload.php",
            dataType: 'json',
            cache: false,
            data: {
                image1:img,
                urlSite:'http://ideal.help30.ru/',
            },
            success: function(data) {
                $('#message .clone-ob').html('<img src='+data.photo1+' width="32%">');
                $('.personalize-clon').append('<input type="hidden" class="input-img'+ind+'" name="img-ob'+ind+'__169__add" value="'+data.urlSite+''+data.photo1+'" />');
            }
        });
    });
}

//Клоны
$('.generate').click(function(e) {
    $('.loading').html('<i class="fas fa-spinner fa-pulse"></i>');
    $(document).ready(function(){
    var clons = 0;
        var cloneCount = document.getElementById('card_body_clone_generated').childNodes.length;
        // cloneCount количество пар персонализации
        // Поставлено огриничение на 15 шт.
        console.log('Количество: '+cloneCount);
        console.log('Поставлено ограницение на 15 шт.');
        for (var i = 1; i <= 15; i++) {
            if(i <= 3){
                var licevayaId = document.getElementById('licevaya_id_'+i);
                var oborotnayaId = document.getElementById('oborotnaya_id_1');
                clonPreview(licevayaId,oborotnayaId,i);
                
            }else {
                setTimeout('stopFunction();', 500);
                var licevayaId = document.getElementById('licevaya_id_'+i);
                var oborotnayaId = document.getElementById('oborotnaya_id_1');
                clonPreview(licevayaId,oborotnayaId,i);
            }
        }


    });
    //Выводим на экран пример макета
    $('.generate').remove();
    $('.loading').remove();
    $('.generate-button').html('<button data-fancybox data-src="#message" type="button" class="card-redactor--order_btn view-makets" >Посмотреть макеты</button><div style="text-align:center;padding: 10px 0;font-size: 16px;xcolor: green;">Макеты сгенерированы</div>');
});

</script>

<div style="display:none;">
    <div class="message" id="message"><span class="clone-lc"></span><span class="clone-ob"></span></div>
    <div class="message-maket" id="message-maket"></div>
</div>

      </div>
      <footer>
        <div class="container foot">
          <h5 class="foot-title">
            Хочешь знать как пригласить гостей по всем правилам этикета?<br>
            Оставь свой e-mail и мы пришлем чек-лист
          </h5>
          <div class="time-line"></div>
            <script type="text/javascript">
                $(document).on('af_complete', function(event, response) {
                    var form = response.form;
                    // Если у формы определённый id
                    if (response.success == true) {
                        // Скрываем её!
                        jQuery(".ok-mes").slideDown(1000).delay(3000).slideUp(1000);
                        jQuery(".foot-form").slideUp(1000).delay(3000).slideDown(1000);
                    }
                    // Иначе печатаем в консоль весь ответ
                    else {
                        console.log(response)
                    }
                });
                $(document).ready(function() {
                AjaxForm.Message.success = function() {};
                AjaxForm.Message.error = function() {}; 
                 });
            </script>
            
            <form class="foot-form ajax_form" name="zayavka" action="http://ideal.help30.ru/svadbyi/priglasheniya/priglashenieczvetyi-1.html" method="post" enctype="multipart/form-data">
    <input name="name" value="" placeholder="Ваше имя" type="text">
    <input name="email" value="" placeholder="Ваш e-mail" type="email">
    <button type="submit">Получить чек-лист<span class="foot-form--line"></span></button>

	<input name="af_action" value="d07c70b8480fc28c7c3335bd08ee5eb5" type="hidden">
</form>
            
            <div class="ok-mes" style="display:none;">Ваша заявка получена. Спасибо!</div>

          <div class="foot-body">
            <div class="foot-copy">Копирайт 2018 г.</div>
            <div class="foot-links"><a href="http://ideal.help30.ru/sitemap.xml">Карта сайта</a><a href="http://ideal.help30.ru/politika-konfidenczialnosti.html">Политика конфиденциальности</a><a href="http://ideal.help30.ru/polzovatelskoe-soglashenie.html">Пользовательское соглашение</a></div>
            <div class="foot-socs"><a class="foot-socs--fb" href=""></a><a class="foot-socs--vk" href=""></a><a class="foot-socs--in" href=""></a></div>
          </div>
        </div>
</footer>
<!--<script>
    $('body').bind('contextmenu', function(e) {
    return false;
});
</script> -->
    </div>
  <script type="text/javascript" src="ru.js"></script>
<script type="text/javascript" src="shopkeeper.js"></script>
	<script type="text/javascript">
        SHK.data = {"price_total":"0.00","items_total":0,"items_unique_total":0,"delivery_price":0,"delivery_name":"","ids":[]};
        jQuery(document).ready(function(){
            SHK.init( {"prodCont":"div.shk-item","site_base_url":"\/","counterField":false,"counterFieldCart":true,"changePrice":"1","flyToCart":"nofly","noLoader":true,"allowFloatCount":false,"animCart":true,"goToOrderFormPage":false,"orderFormPageUrl":"\/oformlenie-zakaza.html","debug":false} );
        });
	</script>

<script type="text/javascript" src="default.js"></script>
<script type="text/javascript">AjaxForm.initialize({"assetsUrl":"\/assets\/components\/ajaxform\/","actionUrl":"\/assets\/components\/ajaxform\/action.php","closeMessage":"\u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u0435","formSelector":"form.ajax_form","pageId":169});</script><script src="jquery.form.min.js"></script><script src="jquery.jgrowl.min.js"></script>

</body>
</html>